{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\van den Akker\\\\planner\\\\planner-app\\\\src\\\\PlannerBoard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport { getShiftCountPerMedewerker, importeerBeschikbaarheidKnop } from \"./utils/plannerHelpers\";\nimport { dagMap } from \"./utils/dagen\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dagen = [\"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\", \"zo\"];\nconst shifts = [1, 2];\nexport default function PlannerBoard({\n  beschikbaarheid: beschikbaarheidProp,\n  planning,\n  setPlanning\n}) {\n  _s();\n  const [medewerkers, setMedewerkers] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"medewerkers\");\n      const parsed = saved ? JSON.parse(saved) : [];\n      return Array.isArray(parsed) ? parsed.filter(m => m && typeof m === \"object\" && m.naam) : [];\n    } catch {\n      return [];\n    }\n  });\n  const [beschikbaarheid, setLocalBeschikbaarheid] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"beschikbaarheid\");\n      return saved ? JSON.parse(saved) : {};\n    } catch {\n      return {};\n    }\n  });\n  useEffect(() => {\n    if (beschikbaarheidProp && Object.keys(beschikbaarheidProp).length > 0) {\n      setLocalBeschikbaarheid(beschikbaarheidProp);\n      localStorage.setItem(\"beschikbaarheid\", JSON.stringify(beschikbaarheidProp));\n    }\n  }, [beschikbaarheidProp]);\n  const [popup, setPopup] = useState(null);\n  const shiftCountPerMedewerker = getShiftCountPerMedewerker(planning);\n  const gestructureerdeUpdate = (prev, popup, functie, soort) => {\n    var _prev$popup$medewerke;\n    return {\n      ...prev,\n      [popup.medewerker]: {\n        ...prev[popup.medewerker],\n        [popup.dag]: {\n          ...((_prev$popup$medewerke = prev[popup.medewerker]) === null || _prev$popup$medewerke === void 0 ? void 0 : _prev$popup$medewerke[popup.dag]),\n          [popup.shift]: {\n            functie,\n            soort\n          }\n        }\n      }\n    };\n  };\n  const updatePlanning = (functie, soort) => {\n    if (popup) {\n      setPlanning(prev => {\n        const nieuwePlanning = gestructureerdeUpdate(prev, popup, functie, soort);\n        localStorage.setItem(\"planning\", JSON.stringify(nieuwePlanning));\n        return nieuwePlanning;\n      });\n      setPopup(null);\n    }\n  };\n  const exportToPDF = () => {\n    const doc = new jsPDF({\n      orientation: \"landscape\",\n      format: \"a4\"\n    });\n    const tableColumn = [\"Naam\", ...dagen.flatMap(dag => shifts.map(shift => `${dag} ${shift}`))];\n    const body = medewerkers.map(m => {\n      var _m$maxShifts, _m$leeftijd;\n      const count = shiftCountPerMedewerker[m.naam] || 0;\n      const max = (_m$maxShifts = m.maxShifts) !== null && _m$maxShifts !== void 0 ? _m$maxShifts : \"?\";\n      const leeftijd = (_m$leeftijd = m.leeftijd) !== null && _m$leeftijd !== void 0 ? _m$leeftijd : \"?\";\n      const row = {\n        Naam: `${m.naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \")} [${leeftijd}] (${count}/${max})`\n      };\n      dagen.forEach(dag => {\n        shifts.forEach(shift => {\n          var _planning$m$naam, _planning$m$naam$dag, _m$naam, _beschikbaarheid$naam, _beschikbaarheid$naam2;\n          const key = `${dag} ${shift}`;\n          const entry = (_planning$m$naam = planning[m.naam]) === null || _planning$m$naam === void 0 ? void 0 : (_planning$m$naam$dag = _planning$m$naam[dag]) === null || _planning$m$naam$dag === void 0 ? void 0 : _planning$m$naam$dag[shift];\n          const naamKey = (_m$naam = m.naam) === null || _m$naam === void 0 ? void 0 : _m$naam.toLowerCase();\n          const beschikbaar = beschikbaarheid === null || beschikbaarheid === void 0 ? void 0 : (_beschikbaarheid$naam = beschikbaarheid[naamKey]) === null || _beschikbaarheid$naam === void 0 ? void 0 : (_beschikbaarheid$naam2 = _beschikbaarheid$naam[dagMap[dag]]) === null || _beschikbaarheid$naam2 === void 0 ? void 0 : _beschikbaarheid$naam2[shift];\n          if (entry) {\n            if (entry.functie === \"schepper\") row[key] = entry.soort === \"vast\" ? \"schep\" : \"schep(s)\";else if (entry.functie === \"ijsbereider\") row[key] = entry.soort === \"vast\" ? \"bereider\" : \"bereider(s)\";else if (entry.functie === \"ijsvoorbereider\") row[key] = entry.soort === \"vast\" ? \"prep\" : \"prep(s)\";else row[key] = `${entry.functie} (${entry.soort})`;\n          } else if (beschikbaar) {\n            row[key] = \"✓\";\n          } else {\n            row[key] = \"\";\n          }\n        });\n      });\n      return row;\n    });\n    autoTable(doc, {\n      columnStyles: {\n        Naam: {\n          halign: 'left'\n        }\n      },\n      didParseCell: function (data) {\n        const val = (typeof data.cell.raw === \"string\" ? data.cell.raw : Array.isArray(data.cell.raw) ? data.cell.raw.join(\" \") : \"\").toLowerCase().trim();\n        const colKey = data.column.dataKey;\n        if (val === \"bereider\") {\n          data.cell.styles.fillColor = [30, 58, 138];\n          data.cell.styles.textColor = [255, 255, 255];\n        } else if (val === \"bereider(s)\") {\n          data.cell.styles.fillColor = [96, 165, 250];\n        } else if (val === \"prep\") {\n          data.cell.styles.fillColor = [191, 219, 254];\n        } else if (val === \"prep(s)\") {\n          data.cell.styles.fillColor = [219, 234, 254];\n        } else if (val === \"schep\") {\n          data.cell.styles.fillColor = [250, 204, 21];\n        } else if (val === \"schep(s)\") {\n          data.cell.styles.fillColor = [254, 240, 138];\n        } else if (val === \"✓\") {\n          data.cell.styles.fillColor = [144, 238, 144];\n        } else if (val === \"\" && colKey !== \"Naam\") {\n          var _Object$entries$find, _beschikbaarheid$naam3, _beschikbaarheid$naam4;\n          const naam = data.row.raw[\"Naam\"].toLowerCase();\n          const [dagLabel, shiftStr] = colKey.split(\" \");\n          const shift = parseInt(shiftStr);\n          const dagMap = {\n            ma: \"maandag\",\n            di: \"dinsdag\",\n            wo: \"woensdag\",\n            do: \"donderdag\",\n            vr: \"vrijdag\",\n            za: \"zaterdag\",\n            zo: \"zondag\"\n          };\n          const dag = (_Object$entries$find = Object.entries(dagMap).find(([k]) => dagLabel.toLowerCase().startsWith(k))) === null || _Object$entries$find === void 0 ? void 0 : _Object$entries$find[1];\n          if (naam && dag && beschikbaarheid !== null && beschikbaarheid !== void 0 && (_beschikbaarheid$naam3 = beschikbaarheid[naam]) !== null && _beschikbaarheid$naam3 !== void 0 && (_beschikbaarheid$naam4 = _beschikbaarheid$naam3[dag]) !== null && _beschikbaarheid$naam4 !== void 0 && _beschikbaarheid$naam4[shift]) {\n            data.cell.styles.fillColor = [144, 238, 144]; // lichtgroen\n          }\n        }\n      },\n      columns: tableColumn.map(key => ({\n        header: key,\n        dataKey: key,\n        halign: key === 'Naam' ? 'left' : 'center'\n      })),\n      body,\n      startY: 20,\n      styles: {\n        fontSize: 8,\n        halign: \"center\",\n        valign: \"middle\",\n        cellPadding: 2,\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0]\n      },\n      headStyles: {\n        fillColor: [41, 128, 185],\n        textColor: [255, 255, 255],\n        fontStyle: \"bold\"\n      },\n      didDrawCell: function (data) {\n        const val = (typeof data.cell.text === \"string\" ? data.cell.text : Array.isArray(data.cell.text) ? data.cell.text.join(\" \") : \"\").toLowerCase().trim();\n        if (val === \"bereider\") {\n          data.cell.styles.fillColor = [30, 58, 138];\n          data.cell.styles.textColor = [255, 255, 255];\n        } else if (val === \"bereider(s)\") {\n          data.cell.styles.fillColor = [96, 165, 250];\n        } else if (val === \"prep\") {\n          data.cell.styles.fillColor = [191, 219, 254];\n        } else if (val === \"prep(s)\") {\n          data.cell.styles.fillColor = [219, 234, 254];\n        } else if (val === \"schep\") {\n          data.cell.styles.fillColor = [250, 204, 21];\n        } else if (val === \"schep(s)\") {\n          data.cell.styles.fillColor = [254, 240, 138];\n        }\n      }\n    });\n    const eindY = doc.lastAutoTable.finalY + 20;\n    doc.setFontSize(8);\n    const loonkostenPerUur = {\n      16: 6.5,\n      17: 7,\n      18: 8,\n      19: 9,\n      20: 10,\n      21: 11,\n      22: 12,\n      23: 13,\n      24: 14,\n      25: 15\n    };\n    const loonkostenPerDag = {};\n    const shiftTelling = {};\n    medewerkers.forEach(m => {\n      var _loonkostenPerUur$m$l;\n      const uurloon = parseFloat(((_loonkostenPerUur$m$l = loonkostenPerUur[m.leeftijd]) !== null && _loonkostenPerUur$m$l !== void 0 ? _loonkostenPerUur$m$l : 15).toFixed(2));\n      dagen.forEach(dag => {\n        let dagTotaal = loonkostenPerDag[dag] || 0;\n        shiftTelling[dag] = shiftTelling[dag] || {\n          schepper: 0,\n          ijsbereider: 0,\n          ijsvoorbereider: 0\n        };\n        shifts.forEach(shift => {\n          var _planning$m$naam2, _planning$m$naam2$dag;\n          const entry = (_planning$m$naam2 = planning[m.naam]) === null || _planning$m$naam2 === void 0 ? void 0 : (_planning$m$naam2$dag = _planning$m$naam2[dag]) === null || _planning$m$naam2$dag === void 0 ? void 0 : _planning$m$naam2$dag[shift];\n          if (entry) {\n            const uren = entry.soort === \"standby\" ? 4 : 6;\n            dagTotaal += uren * uurloon;\n            if (shiftTelling[dag][entry.functie] !== undefined) {\n              shiftTelling[dag][entry.functie]++;\n            }\n          }\n        });\n        loonkostenPerDag[dag] = dagTotaal;\n      });\n    });\n    const startY = doc.lastAutoTable.finalY + 35;\n    autoTable(doc, {\n      head: [[\"Dag\"].concat(dagen.flatMap(d => shifts.map(s => `${d} shift ${s}`)))],\n      body: [[\"Loonkosten\"].concat(dagen.flatMap(d => shifts.map(s => `€ ${(() => {\n        let totaal = 0;\n        medewerkers.forEach(m => {\n          var _planning$m$naam3, _planning$m$naam3$d;\n          const entry = (_planning$m$naam3 = planning[m.naam]) === null || _planning$m$naam3 === void 0 ? void 0 : (_planning$m$naam3$d = _planning$m$naam3[d]) === null || _planning$m$naam3$d === void 0 ? void 0 : _planning$m$naam3$d[s];\n          if (entry) {\n            var _loonkostenPerUur$lee;\n            const uren = entry.soort === \"standby\" ? 4 : 6;\n            const loonkostenPerUur = {\n              16: 6.5,\n              17: 7,\n              18: 8,\n              19: 9,\n              20: 10,\n              21: 11,\n              22: 12,\n              23: 13,\n              24: 14,\n              25: 15\n            };\n            const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n            const uurloon = (_loonkostenPerUur$lee = loonkostenPerUur[leeftijd]) !== null && _loonkostenPerUur$lee !== void 0 ? _loonkostenPerUur$lee : 15;\n            totaal += uren * uurloon;\n          }\n        });\n        return totaal.toFixed(2);\n      })()}`))), [\"Bereiders\"].concat(dagen.flatMap(d => shifts.map(s => medewerkers.filter(m => {\n        var _planning$m$naam4, _planning$m$naam4$d, _planning$m$naam4$d$s;\n        return ((_planning$m$naam4 = planning[m.naam]) === null || _planning$m$naam4 === void 0 ? void 0 : (_planning$m$naam4$d = _planning$m$naam4[d]) === null || _planning$m$naam4$d === void 0 ? void 0 : (_planning$m$naam4$d$s = _planning$m$naam4$d[s]) === null || _planning$m$naam4$d$s === void 0 ? void 0 : _planning$m$naam4$d$s.functie) === \"ijsbereider\";\n      }).length))), [\"Voorbereiders\"].concat(dagen.flatMap(d => shifts.map(s => medewerkers.filter(m => {\n        var _planning$m$naam5, _planning$m$naam5$d, _planning$m$naam5$d$s;\n        return ((_planning$m$naam5 = planning[m.naam]) === null || _planning$m$naam5 === void 0 ? void 0 : (_planning$m$naam5$d = _planning$m$naam5[d]) === null || _planning$m$naam5$d === void 0 ? void 0 : (_planning$m$naam5$d$s = _planning$m$naam5$d[s]) === null || _planning$m$naam5$d$s === void 0 ? void 0 : _planning$m$naam5$d$s.functie) === \"ijsvoorbereider\";\n      }).length))), [\"Scheppers\"].concat(dagen.flatMap(d => shifts.map(s => medewerkers.filter(m => {\n        var _planning$m$naam6, _planning$m$naam6$d, _planning$m$naam6$d$s;\n        return ((_planning$m$naam6 = planning[m.naam]) === null || _planning$m$naam6 === void 0 ? void 0 : (_planning$m$naam6$d = _planning$m$naam6[d]) === null || _planning$m$naam6$d === void 0 ? void 0 : (_planning$m$naam6$d$s = _planning$m$naam6$d[s]) === null || _planning$m$naam6$d$s === void 0 ? void 0 : _planning$m$naam6$d$s.functie) === \"schepper\";\n      }).length)))],\n      startY,\n      styles: {\n        fontSize: 8,\n        halign: 'center',\n        valign: 'middle',\n        cellPadding: 2,\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0]\n      },\n      headStyles: {\n        fillColor: [100, 149, 237],\n        textColor: 255\n      },\n      columnStyles: {\n        0: {\n          fontStyle: 'bold',\n          halign: 'left'\n        }\n      }\n    });\n    doc.save(\"planning_export.pdf\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"text-xs border-collapse w-full bg-white shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"border px-2 py-1\",\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 7\n            }, this), dagen.map(dag => shifts.map(shift => /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"border px-2 py-1 text-center\",\n              children: [dagMap[dag], \" shift \", shift]\n            }, `${dag}-${shift}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 11\n            }, this)))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: ['Bereiders', 'Voorbereiders', 'Scheppers', 'Kosten'].map(type => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"border px-2 py-1 font-semibold\",\n              children: type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 9\n            }, this), dagen.map(dag => shifts.map(shift => {\n              let value = 0;\n              if (type === 'Kosten') {\n                value = medewerkers.reduce((totaal, m) => {\n                  var _planning$m$naam7, _planning$m$naam7$dag, _loonkostenPerUur$lee2;\n                  const entry = (_planning$m$naam7 = planning[m.naam]) === null || _planning$m$naam7 === void 0 ? void 0 : (_planning$m$naam7$dag = _planning$m$naam7[dag]) === null || _planning$m$naam7$dag === void 0 ? void 0 : _planning$m$naam7$dag[shift];\n                  if (!entry) return totaal;\n                  const uren = entry.soort === 'standby' ? 4 : 6;\n                  const loonkostenPerUur = {\n                    16: 6.5,\n                    17: 7,\n                    18: 8,\n                    19: 9,\n                    20: 10,\n                    21: 11,\n                    22: 12,\n                    23: 13,\n                    24: 14,\n                    25: 15\n                  };\n                  const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n                  const uurloon = (_loonkostenPerUur$lee2 = loonkostenPerUur[leeftijd]) !== null && _loonkostenPerUur$lee2 !== void 0 ? _loonkostenPerUur$lee2 : 15;\n                  return totaal + uren * uurloon;\n                }, 0);\n              } else {\n                const functieMap = {\n                  'Bereiders': 'ijsbereider',\n                  'Voorbereiders': 'ijsvoorbereider',\n                  'Scheppers': 'schepper'\n                };\n                const functie = functieMap[type];\n                value = medewerkers.filter(m => {\n                  var _planning$m$naam8, _planning$m$naam8$dag, _planning$m$naam8$dag2;\n                  return ((_planning$m$naam8 = planning[m.naam]) === null || _planning$m$naam8 === void 0 ? void 0 : (_planning$m$naam8$dag = _planning$m$naam8[dag]) === null || _planning$m$naam8$dag === void 0 ? void 0 : (_planning$m$naam8$dag2 = _planning$m$naam8$dag[shift]) === null || _planning$m$naam8$dag2 === void 0 ? void 0 : _planning$m$naam8$dag2.functie) === functie;\n                }).length;\n              }\n              return /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border px-2 py-1 text-center\",\n                children: type === 'Kosten' ? `€ ${Math.round(value)}` : value\n              }, `${type}-${dag}-${shift}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 15\n              }, this);\n            }))]\n          }, type, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 7\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 items-center mb-4\",\n      children: [importeerBeschikbaarheidKnop(setLocalBeschikbaarheid, setMedewerkers), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportToPDF,\n        className: \"bg-red-600 text-white px-4 py-2 rounded shadow\",\n        children: \"Exporteer naar PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), medewerkers.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600\",\n      children: \"Nog geen medewerkers geladen. Importeer beschikbaarheid om te starten.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }, this), medewerkers.length > 0 && /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table-fixed border w-full bg-white text-xs font-sans\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-4 py-2 text-left w-60\",\n            children: \"Naam\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), dagen.map(dag => shifts.map(shift => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-2 py-1 text-center\",\n            children: [dag, \" \", shift]\n          }, `${dag}-${shift}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 19\n          }, this)))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: medewerkers.map(m => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [((_m$maxShifts2, _m$leeftijd2) => {\n            const count = shiftCountPerMedewerker[m.naam] || 0;\n            const max = (_m$maxShifts2 = m.maxShifts) !== null && _m$maxShifts2 !== void 0 ? _m$maxShifts2 : \"?\";\n            const leeftijd = (_m$leeftijd2 = m.leeftijd) !== null && _m$leeftijd2 !== void 0 ? _m$leeftijd2 : \"?\";\n            const bgClass = count > max ? \"bg-red-200\" : count < max ? \"bg-yellow-200\" : \"\";\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              className: `border px-4 py-2 text-left whitespace-nowrap w-60 font-bold ${bgClass}`,\n              title: m.opmerking || \"\",\n              children: [m.naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \"), \" [\", leeftijd, \"] (\", count, \"/\", max, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 5\n            }, this);\n          })(), dagen.map(dag => shifts.map(shift => {\n            var _m$naam2, _planning$m$naam9, _planning$m$naam9$dag, _beschikbaarheid$naam5, _beschikbaarheid$naam6;\n            const naamKey = (_m$naam2 = m.naam) === null || _m$naam2 === void 0 ? void 0 : _m$naam2.toLowerCase();\n            const entry = (_planning$m$naam9 = planning[m.naam]) === null || _planning$m$naam9 === void 0 ? void 0 : (_planning$m$naam9$dag = _planning$m$naam9[dag]) === null || _planning$m$naam9$dag === void 0 ? void 0 : _planning$m$naam9$dag[shift];\n            const beschikbaar = beschikbaarheid === null || beschikbaarheid === void 0 ? void 0 : (_beschikbaarheid$naam5 = beschikbaarheid[naamKey]) === null || _beschikbaarheid$naam5 === void 0 ? void 0 : (_beschikbaarheid$naam6 = _beschikbaarheid$naam5[dagMap[dag]]) === null || _beschikbaarheid$naam6 === void 0 ? void 0 : _beschikbaarheid$naam6[shift];\n            let text = \"\";\n            let bgColor = \"#ffffff\"; // standaard wit\n\n            if (entry) {\n              switch (entry.functie) {\n                case \"schepper\":\n                  text = entry.soort === \"vast\" ? \"schep\" : \"schep(s)\";\n                  bgColor = entry.soort === \"vast\" ? \"#facc15\" : \"#fef08a\";\n                  break;\n                case \"ijsbereider\":\n                  text = entry.soort === \"vast\" ? \"bereider\" : \"bereider(s)\";\n                  bgColor = entry.soort === \"vast\" ? \"#1e3a8a\" : \"#60a5fa\";\n                  break;\n                case \"ijsvoorbereider\":\n                  text = entry.soort === \"vast\" ? \"prep\" : \"prep(s)\";\n                  bgColor = entry.soort === \"vast\" ? \"#bfdbfe\" : \"#dbeafe\";\n                  break;\n                default:\n                  text = `${entry.functie} (${entry.soort})`;\n                  break;\n              }\n            } else if (beschikbaar) {\n              // Geen planning maar wél beschikbaarheid → lichtgroen\n              bgColor = \"#bbf7d0\";\n              text = \"✓\";\n            }\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              title: `Shift ${shift} op ${dagMap[dag]}`,\n              className: \"border text-center cursor-pointer\",\n              onClick: () => {\n                var _planning$m$naam10, _planning$m$naam10$da;\n                const entry = (_planning$m$naam10 = planning[m.naam]) === null || _planning$m$naam10 === void 0 ? void 0 : (_planning$m$naam10$da = _planning$m$naam10[dag]) === null || _planning$m$naam10$da === void 0 ? void 0 : _planning$m$naam10$da[shift];\n                if (entry) {\n                  setPlanning(prev => {\n                    const nieuw = {\n                      ...prev\n                    };\n                    delete nieuw[m.naam][dag][shift];\n                    if (Object.keys(nieuw[m.naam][dag]).length === 0) delete nieuw[m.naam][dag];\n                    if (Object.keys(nieuw[m.naam]).length === 0) delete nieuw[m.naam];\n                    localStorage.setItem(\"planning\", JSON.stringify(nieuw));\n                    return nieuw;\n                  });\n                } else {\n                  setPopup({\n                    medewerker: m.naam,\n                    dag,\n                    shift\n                  });\n                }\n              },\n              style: {\n                backgroundColor: bgColor,\n                color: (entry === null || entry === void 0 ? void 0 : entry.functie) === \"ijsbereider\" && (entry === null || entry === void 0 ? void 0 : entry.soort) === \"vast\" ? \"white\" : undefined\n              },\n              children: text\n            }, `${m.naam}-${dag}-${shift}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 11\n            }, this);\n          }))]\n        }, m.naam, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 3\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 9\n    }, this), popup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow-md w-[300px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-bold mb-4 text-center\",\n          children: [popup.medewerker, \" - \", popup.dag, \" Shift \", popup.shift]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-2\",\n          children: [\"ijsbereider\", \"ijsvoorbereider\", \"schepper\"].map(functie => [\"vast\", \"standby\"].map(soort => {\n            let kleur = \"\";\n            let label = \"\";\n            if (functie === \"ijsbereider\") {\n              kleur = soort === \"vast\" ? \"bg-blue-900 text-white\" : \"bg-blue-300 text-black\";\n              label = soort === \"vast\" ? \"bereider\" : \"⏱️ bereider\";\n            } else if (functie === \"ijsvoorbereider\") {\n              kleur = soort === \"vast\" ? \"bg-blue-600 text-white\" : \"bg-blue-200 text-black\";\n              label = soort === \"vast\" ? \"prep\" : \"⏱️ prep\";\n            } else if (functie === \"schepper\") {\n              kleur = soort === \"vast\" ? \"bg-yellow-500 text-black\" : \"bg-yellow-200 text-black\";\n              label = soort === \"vast\" ? \"schep\" : \"⏱️ schep\";\n            }\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `${kleur} px-3 py-2 rounded font-medium text-sm`,\n              onClick: () => updatePlanning(functie, soort),\n              children: label\n            }, `${functie}-${soort}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 21\n            }, this);\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPopup(null),\n            className: \"text-gray-600 text-sm underline\",\n            children: \"Annuleren\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 5\n  }, this);\n}\n_s(PlannerBoard, \"JjM/JtnAYCLvyMaLDEshyo9rKxo=\");\n_c = PlannerBoard;\nvar _c;\n$RefreshReg$(_c, \"PlannerBoard\");","map":{"version":3,"names":["React","useState","useEffect","jsPDF","autoTable","getShiftCountPerMedewerker","importeerBeschikbaarheidKnop","dagMap","jsxDEV","_jsxDEV","dagen","shifts","PlannerBoard","beschikbaarheid","beschikbaarheidProp","planning","setPlanning","_s","medewerkers","setMedewerkers","saved","localStorage","getItem","parsed","JSON","parse","Array","isArray","filter","m","naam","setLocalBeschikbaarheid","Object","keys","length","setItem","stringify","popup","setPopup","shiftCountPerMedewerker","gestructureerdeUpdate","prev","functie","soort","_prev$popup$medewerke","medewerker","dag","shift","updatePlanning","nieuwePlanning","exportToPDF","doc","orientation","format","tableColumn","flatMap","map","body","_m$maxShifts","_m$leeftijd","count","max","maxShifts","leeftijd","row","Naam","split","part","i","charAt","toUpperCase","slice","join","forEach","_planning$m$naam","_planning$m$naam$dag","_m$naam","_beschikbaarheid$naam","_beschikbaarheid$naam2","key","entry","naamKey","toLowerCase","beschikbaar","columnStyles","halign","didParseCell","data","val","cell","raw","trim","colKey","column","dataKey","styles","fillColor","textColor","_Object$entries$find","_beschikbaarheid$naam3","_beschikbaarheid$naam4","dagLabel","shiftStr","parseInt","ma","di","wo","do","vr","za","zo","entries","find","k","startsWith","columns","header","startY","fontSize","valign","cellPadding","lineWidth","lineColor","headStyles","fontStyle","didDrawCell","text","eindY","lastAutoTable","finalY","setFontSize","loonkostenPerUur","loonkostenPerDag","shiftTelling","_loonkostenPerUur$m$l","uurloon","parseFloat","toFixed","dagTotaal","schepper","ijsbereider","ijsvoorbereider","_planning$m$naam2","_planning$m$naam2$dag","uren","undefined","head","concat","d","s","totaal","_planning$m$naam3","_planning$m$naam3$d","_loonkostenPerUur$lee","_planning$m$naam4","_planning$m$naam4$d","_planning$m$naam4$d$s","_planning$m$naam5","_planning$m$naam5$d","_planning$m$naam5$d$s","_planning$m$naam6","_planning$m$naam6$d","_planning$m$naam6$d$s","save","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","reduce","_planning$m$naam7","_planning$m$naam7$dag","_loonkostenPerUur$lee2","functieMap","_planning$m$naam8","_planning$m$naam8$dag","_planning$m$naam8$dag2","Math","round","onClick","_m$maxShifts2","_m$leeftijd2","bgClass","title","opmerking","_m$naam2","_planning$m$naam9","_planning$m$naam9$dag","_beschikbaarheid$naam5","_beschikbaarheid$naam6","bgColor","_planning$m$naam10","_planning$m$naam10$da","nieuw","style","backgroundColor","color","kleur","label","_c","$RefreshReg$"],"sources":["C:/Users/van den Akker/planner/planner-app/src/PlannerBoard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport {\n  getShiftCountPerMedewerker,\n  importeerBeschikbaarheidKnop,\n} from \"./utils/plannerHelpers\";\nimport { dagMap } from \"./utils/dagen\";\n\nconst dagen = [\"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\", \"zo\"];\nconst shifts = [1, 2];\n\nexport default function PlannerBoard({ beschikbaarheid: beschikbaarheidProp, planning, setPlanning }) {\n  const [medewerkers, setMedewerkers] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"medewerkers\");\n      const parsed = saved ? JSON.parse(saved) : [];\n      return Array.isArray(parsed) ? parsed.filter((m) => m && typeof m === \"object\" && m.naam) : [];\n    } catch {\n      return [];\n    }\n  });\n\n  const [beschikbaarheid, setLocalBeschikbaarheid] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"beschikbaarheid\");\n      return saved ? JSON.parse(saved) : {};\n    } catch {\n      return {};\n    }\n  });\n\n  useEffect(() => {\n    if (beschikbaarheidProp && Object.keys(beschikbaarheidProp).length > 0) {\n      setLocalBeschikbaarheid(beschikbaarheidProp);\n      localStorage.setItem(\"beschikbaarheid\", JSON.stringify(beschikbaarheidProp));\n    }\n  }, [beschikbaarheidProp]);\n\n  const [popup, setPopup] = useState(null);\n  const shiftCountPerMedewerker = getShiftCountPerMedewerker(planning);\n\n  const gestructureerdeUpdate = (prev, popup, functie, soort) => {\n    return {\n      ...prev,\n      [popup.medewerker]: {\n        ...prev[popup.medewerker],\n        [popup.dag]: {\n          ...prev[popup.medewerker]?.[popup.dag],\n          [popup.shift]: { functie, soort },\n        },\n      },\n    };\n  };\n\n  const updatePlanning = (functie, soort) => {\n    if (popup) {\n      setPlanning((prev) => {\n        const nieuwePlanning = gestructureerdeUpdate(prev, popup, functie, soort);\n        localStorage.setItem(\"planning\", JSON.stringify(nieuwePlanning));\n        return nieuwePlanning;\n      });\n      setPopup(null);\n    }\n  };\n\n  const exportToPDF = () => {\n    const doc = new jsPDF({ orientation: \"landscape\", format: \"a4\" });\n\n    const tableColumn = [\"Naam\", ...dagen.flatMap(dag => shifts.map(shift => `${dag} ${shift}`))];\n    const body = medewerkers.map((m) => {\n      const count = shiftCountPerMedewerker[m.naam] || 0;\n      const max = m.maxShifts ?? \"?\";\n      const leeftijd = m.leeftijd ?? \"?\";\n      const row = { Naam: `${m.naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \")} [${leeftijd}] (${count}/${max})` };\n\n      dagen.forEach(dag => {\n        shifts.forEach(shift => {\n          const key = `${dag} ${shift}`;\n          const entry = planning[m.naam]?.[dag]?.[shift];\n          const naamKey = m.naam?.toLowerCase();\n          const beschikbaar = beschikbaarheid?.[naamKey]?.[dagMap[dag]]?.[shift];\n\n          if (entry) {\n            if (entry.functie === \"schepper\") row[key] = entry.soort === \"vast\" ? \"schep\" : \"schep(s)\";\n            else if (entry.functie === \"ijsbereider\") row[key] = entry.soort === \"vast\" ? \"bereider\" : \"bereider(s)\";\n            else if (entry.functie === \"ijsvoorbereider\") row[key] = entry.soort === \"vast\" ? \"prep\" : \"prep(s)\";\n            else row[key] = `${entry.functie} (${entry.soort})`;\n          } else if (beschikbaar) {\n            row[key] = \"✓\";\n          } else {\n            row[key] = \"\";\n          }\n        });\n      });\n\n      return row;\n    });\n\n    autoTable(doc, {\n      columnStyles: { Naam: { halign: 'left' } },\n      didParseCell: function (data) {\n        const val = (typeof data.cell.raw === \"string\" ? data.cell.raw : Array.isArray(data.cell.raw) ? data.cell.raw.join(\" \") : \"\").toLowerCase().trim();\n        const colKey = data.column.dataKey;\n\n        if (val === \"bereider\") {\n          data.cell.styles.fillColor = [30, 58, 138];\n          data.cell.styles.textColor = [255, 255, 255];\n        } else if (val === \"bereider(s)\") {\n          data.cell.styles.fillColor = [96, 165, 250];\n        } else if (val === \"prep\") {\n          data.cell.styles.fillColor = [191, 219, 254];\n        } else if (val === \"prep(s)\") {\n          data.cell.styles.fillColor = [219, 234, 254];\n        } else if (val === \"schep\") {\n          data.cell.styles.fillColor = [250, 204, 21];\n        } else if (val === \"schep(s)\") {\n          data.cell.styles.fillColor = [254, 240, 138];\n        } else if (val === \"✓\") {\n          data.cell.styles.fillColor = [144, 238, 144];\n        } else if (val === \"\" && colKey !== \"Naam\") {\n          const naam = data.row.raw[\"Naam\"].toLowerCase();\n          const [dagLabel, shiftStr] = colKey.split(\" \");\n          const shift = parseInt(shiftStr);\n          const dagMap = {\n            ma: \"maandag\", di: \"dinsdag\", wo: \"woensdag\",\n            do: \"donderdag\", vr: \"vrijdag\", za: \"zaterdag\", zo: \"zondag\"\n          };\n          const dag = Object.entries(dagMap).find(([k]) => dagLabel.toLowerCase().startsWith(k))?.[1];\n          if (naam && dag && beschikbaarheid?.[naam]?.[dag]?.[shift]) {\n            data.cell.styles.fillColor = [144, 238, 144]; // lichtgroen\n          }\n        }\n      },\n      columns: tableColumn.map(key => ({ header: key, dataKey: key, halign: key === 'Naam' ? 'left' : 'center' })),\n      body,\n      startY: 20,\n      styles: {\n        fontSize: 8,\n        halign: \"center\",\n        valign: \"middle\",\n        cellPadding: 2,\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0],},\n      headStyles: {\n        fillColor: [41, 128, 185],\n        textColor: [255, 255, 255],\n        fontStyle: \"bold\",\n      },\n      didDrawCell: function (data) {\n        const val = (typeof data.cell.text === \"string\" ? data.cell.text : Array.isArray(data.cell.text) ? data.cell.text.join(\" \") : \"\").toLowerCase().trim();\n\n        if (val === \"bereider\") {\n          data.cell.styles.fillColor = [30, 58, 138];\n          data.cell.styles.textColor = [255, 255, 255];\n        } else if (val === \"bereider(s)\") {\n          data.cell.styles.fillColor = [96, 165, 250];\n        } else if (val === \"prep\") {\n          data.cell.styles.fillColor = [191, 219, 254];\n        } else if (val === \"prep(s)\") {\n          data.cell.styles.fillColor = [219, 234, 254];\n        } else if (val === \"schep\") {\n          data.cell.styles.fillColor = [250, 204, 21];\n        } else if (val === \"schep(s)\") {\n          data.cell.styles.fillColor = [254, 240, 138];\n        }\n      }\n    });\n\n    const eindY = doc.lastAutoTable.finalY + 20;\n    doc.setFontSize(8);\n    \n\n    const loonkostenPerUur = { 16: 6.5, 17: 7, 18: 8, 19: 9, 20: 10, 21: 11, 22: 12, 23: 13, 24: 14, 25: 15 };\n    const loonkostenPerDag = {};\n    const shiftTelling = {};\n\n    medewerkers.forEach((m) => {\n      const uurloon = parseFloat((loonkostenPerUur[m.leeftijd] ?? 15).toFixed(2));\n      dagen.forEach((dag) => {\n        let dagTotaal = loonkostenPerDag[dag] || 0;\n        shiftTelling[dag] = shiftTelling[dag] || { schepper: 0, ijsbereider: 0, ijsvoorbereider: 0 };\n\n        shifts.forEach((shift) => {\n          const entry = planning[m.naam]?.[dag]?.[shift];\n          if (entry) {\n            const uren = entry.soort === \"standby\" ? 4 : 6;\n            dagTotaal += uren * uurloon;\n            if (shiftTelling[dag][entry.functie] !== undefined) {\n              shiftTelling[dag][entry.functie]++;\n            }\n          }\n        });\n\n        loonkostenPerDag[dag] = dagTotaal;\n      });\n    });\n\n    const startY = doc.lastAutoTable.finalY + 35;\n    autoTable(doc, {\n      head: [[\"Dag\"].concat(dagen.flatMap(d => shifts.map(s => `${d} shift ${s}`)))],\n      body: [\n        [\"Loonkosten\"].concat(dagen.flatMap(d => shifts.map(s => `€ ${(() => {\n          let totaal = 0;\n          medewerkers.forEach((m) => {\n            const entry = planning[m.naam]?.[d]?.[s];\n            if (entry) {\n              const uren = entry.soort === \"standby\" ? 4 : 6;\n              const loonkostenPerUur = { 16: 6.5, 17: 7, 18: 8, 19: 9, 20: 10, 21: 11, 22: 12, 23: 13, 24: 14, 25: 15 };\n              const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n              const uurloon = loonkostenPerUur[leeftijd] ?? 15;\n              totaal += uren * uurloon;\n            }\n          });\n          return totaal.toFixed(2);\n        })()}`))),\n        [\"Bereiders\"].concat(dagen.flatMap(d => shifts.map(s => medewerkers.filter(m => planning[m.naam]?.[d]?.[s]?.functie === \"ijsbereider\").length))),\n        [\"Voorbereiders\"].concat(dagen.flatMap(d => shifts.map(s => medewerkers.filter(m => planning[m.naam]?.[d]?.[s]?.functie === \"ijsvoorbereider\").length))),\n        [\"Scheppers\"].concat(dagen.flatMap(d => shifts.map(s => medewerkers.filter(m => planning[m.naam]?.[d]?.[s]?.functie === \"schepper\").length)))\n      ],\n      startY,\n      styles: {\n        fontSize: 8,\n        halign: 'center',\n        valign: 'middle',\n        cellPadding: 2,\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0]\n      },\n      headStyles: { fillColor: [100, 149, 237], textColor: 255 },\n      columnStyles: { 0: { fontStyle: 'bold', halign: 'left' } }\n    });\n\n    doc.save(\"planning_export.pdf\");\n  };\n\n  return (\n    <div className=\"p-4 bg-gray-100\">\n      <div className=\"overflow-x-auto mb-4\">\n  <table className=\"text-xs border-collapse w-full bg-white shadow\">\n  <thead>\n    <tr>\n      <th className=\"border px-2 py-1\">Type</th>\n      {dagen.map((dag) => (\n        shifts.map((shift) => (\n          <th key={`${dag}-${shift}`} className=\"border px-2 py-1 text-center\">\n            {dagMap[dag]} shift {shift}\n          </th>\n        ))\n      ))}\n    </tr>\n  </thead>\n  <tbody>\n    {['Bereiders', 'Voorbereiders', 'Scheppers', 'Kosten'].map((type) => (\n      <tr key={type}>\n        <td className=\"border px-2 py-1 font-semibold\">{type}</td>\n        {dagen.map((dag) => (\n          shifts.map((shift) => {\n            let value = 0;\n            if (type === 'Kosten') {\n              value = medewerkers.reduce((totaal, m) => {\n                const entry = planning[m.naam]?.[dag]?.[shift];\n                if (!entry) return totaal;\n                const uren = entry.soort === 'standby' ? 4 : 6;\n                const loonkostenPerUur = { 16: 6.5, 17: 7, 18: 8, 19: 9, 20: 10, 21: 11, 22: 12, 23: 13, 24: 14, 25: 15 };\n                const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n                const uurloon = loonkostenPerUur[leeftijd] ?? 15;\n                return totaal + uren * uurloon;\n              }, 0);\n            } else {\n              const functieMap = {\n                'Bereiders': 'ijsbereider',\n                'Voorbereiders': 'ijsvoorbereider',\n                'Scheppers': 'schepper'\n              };\n              const functie = functieMap[type];\n              value = medewerkers.filter(m => planning[m.naam]?.[dag]?.[shift]?.functie === functie).length;\n            }\n            return (\n              <td key={`${type}-${dag}-${shift}`} className=\"border px-2 py-1 text-center\">\n                {type === 'Kosten' ? `€ ${Math.round(value)}` : value}\n              </td>\n            );\n          })\n        ))}\n      </tr>\n    ))}\n  </tbody>\n</table>\n</div>\n      <div className=\"flex gap-2 items-center mb-4\">\n      {importeerBeschikbaarheidKnop(setLocalBeschikbaarheid, setMedewerkers)}\n        <button onClick={exportToPDF} className=\"bg-red-600 text-white px-4 py-2 rounded shadow\">\n          Exporteer naar PDF\n        </button>\n      </div>\n\n      {medewerkers.length === 0 && (\n        <p className=\"text-gray-600\">Nog geen medewerkers geladen. Importeer beschikbaarheid om te starten.</p>\n      )}\n\n      {medewerkers.length > 0 && (\n        <table className=\"table-fixed border w-full bg-white text-xs font-sans\">\n          <thead>\n            <tr>\n            <th className=\"border px-4 py-2 text-left w-60\">Naam</th>\n              {dagen.map((dag) =>\n                shifts.map((shift) => (\n                  <th key={`${dag}-${shift}`} className=\"border px-2 py-1 text-center\">\n                    {dag} {shift}\n                  </th>\n                ))\n              )}\n            </tr>\n          </thead>\n          <tbody>\n          {medewerkers.map((m) => (\n  <tr key={m.naam}>\n{(() => {\n  const count = shiftCountPerMedewerker[m.naam] || 0;\n  const max = m.maxShifts ?? \"?\";\n  const leeftijd = m.leeftijd ?? \"?\";\n  const bgClass =\n    count > max ? \"bg-red-200\" :\n    count < max ? \"bg-yellow-200\" :\n    \"\";\n\n  return (\n    <td\n      className={`border px-4 py-2 text-left whitespace-nowrap w-60 font-bold ${bgClass}`}\n      title={m.opmerking || \"\"}>\n      {m.naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \")} [{leeftijd}] ({count}/{max})\n    </td>\n      \n  );\n})()}\n\n    {dagen.map((dag) =>\n      shifts.map((shift) => {\n        const naamKey = m.naam?.toLowerCase();\n        const entry = planning[m.naam]?.[dag]?.[shift];\n        const beschikbaar = beschikbaarheid?.[naamKey]?.[dagMap[dag]]?.[shift];\n\n        let text = \"\";\n        let bgColor = \"#ffffff\"; // standaard wit\n\n        if (entry) {\n          switch (entry.functie) {\n            case \"schepper\":\n              text = entry.soort === \"vast\" ? \"schep\" : \"schep(s)\";\n              bgColor = entry.soort === \"vast\" ? \"#facc15\" : \"#fef08a\";\n              break;\n            case \"ijsbereider\":\n              text = entry.soort === \"vast\" ? \"bereider\" : \"bereider(s)\";\n              bgColor = entry.soort === \"vast\" ? \"#1e3a8a\" : \"#60a5fa\";\n              break;\n            case \"ijsvoorbereider\":\n              text = entry.soort === \"vast\" ? \"prep\" : \"prep(s)\";\n              bgColor = entry.soort === \"vast\" ? \"#bfdbfe\" : \"#dbeafe\";\n              break;\n            default:\n              text = `${entry.functie} (${entry.soort})`;\n              break;\n          }\n        } else if (beschikbaar) {\n          // Geen planning maar wél beschikbaarheid → lichtgroen\n          bgColor = \"#bbf7d0\";\n          text = \"✓\";\n        }\n\n        return (\n          <td\n            key={`${m.naam}-${dag}-${shift}`}\n            title={`Shift ${shift} op ${dagMap[dag]}`}\n  className=\"border text-center cursor-pointer\"\n  onClick={() => {\n    const entry = planning[m.naam]?.[dag]?.[shift];\n    if (entry) {\n      setPlanning((prev) => {\n        const nieuw = { ...prev };\n        delete nieuw[m.naam][dag][shift];\n        if (Object.keys(nieuw[m.naam][dag]).length === 0) delete nieuw[m.naam][dag];\n        if (Object.keys(nieuw[m.naam]).length === 0) delete nieuw[m.naam];\n        localStorage.setItem(\"planning\", JSON.stringify(nieuw));\n        return nieuw;\n      });\n    } else {\n      setPopup({ medewerker: m.naam, dag, shift });\n    }\n  }}\n  style={{ backgroundColor: bgColor, color: entry?.functie === \"ijsbereider\" && entry?.soort === \"vast\" ? \"white\" : undefined }}\n>\n  {text}\n</td>\n\n        );\n      })\n    )}\n  </tr>\n))}\n\n\n\n          </tbody>\n        </table>\n      )}\n\n      {popup && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-4 rounded shadow-md w-[300px]\">\n            <h2 className=\"font-bold mb-4 text-center\">\n              {popup.medewerker} - {popup.dag} Shift {popup.shift}\n            </h2>\n            <div className=\"grid grid-cols-2 gap-2\">\n              {[\"ijsbereider\", \"ijsvoorbereider\", \"schepper\"].map((functie) =>\n                [\"vast\", \"standby\"].map((soort) => {\n                  let kleur = \"\";\n                  let label = \"\";\n\n                  if (functie === \"ijsbereider\") {\n                    kleur = soort === \"vast\" ? \"bg-blue-900 text-white\" : \"bg-blue-300 text-black\";\n                    label = soort === \"vast\" ? \"bereider\" : \"⏱️ bereider\";\n                  } else if (functie === \"ijsvoorbereider\") {\n                    kleur = soort === \"vast\" ? \"bg-blue-600 text-white\" : \"bg-blue-200 text-black\";\n                    label = soort === \"vast\" ? \"prep\" : \"⏱️ prep\";\n                  } else if (functie === \"schepper\") {\n                    kleur = soort === \"vast\" ? \"bg-yellow-500 text-black\" : \"bg-yellow-200 text-black\";\n                    label = soort === \"vast\" ? \"schep\" : \"⏱️ schep\";\n                  }\n\n                  return (\n                    <button\n                      key={`${functie}-${soort}`}\n                      className={`${kleur} px-3 py-2 rounded font-medium text-sm`}\n                      onClick={() => updatePlanning(functie, soort)}\n                    >\n                      {label}\n                    </button>\n                  );\n                })\n              )}\n            </div>\n            <div className=\"mt-4 text-center\">\n              <button onClick={() => setPopup(null)} className=\"text-gray-600 text-sm underline\">\n                Annuleren\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}