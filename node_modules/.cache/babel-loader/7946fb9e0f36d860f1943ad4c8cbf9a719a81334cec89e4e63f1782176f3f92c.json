{"ast":null,"code":"import jsPDF from\"jspdf\";import autoTable from\"jspdf-autotable\";import{dagMap}from\"./dagen\";const dagen=[\"ma\",\"di\",\"wo\",\"do\",\"vr\",\"za\",\"zo\"];const shifts=[1,2];const buildPdfBody=(medewerkers,planning,beschikbaarheid,shiftCountPerMedewerker)=>{const body=[];medewerkers.forEach(m=>{var _m$maxShifts,_m$leeftijd;const naam=m.naam;const count=shiftCountPerMedewerker[naam]||0;const max=(_m$maxShifts=m.maxShifts)!==null&&_m$maxShifts!==void 0?_m$maxShifts:\"?\";const leeftijd=(_m$leeftijd=m.leeftijd)!==null&&_m$leeftijd!==void 0?_m$leeftijd:\"?\";const row={Naam:`${naam.split(\" \").map((part,i)=>i===0?part:part.charAt(0).toUpperCase()+part.slice(1)).join(\" \")} [${leeftijd}] (${count}/${max})`};dagen.forEach(dag=>{shifts.forEach(shift=>{var _planning$naam,_planning$naam$dag,_beschikbaarheid$naam,_beschikbaarheid$naam2;const key=`${dag} ${shift}`;const entry=(_planning$naam=planning[naam])===null||_planning$naam===void 0?void 0:(_planning$naam$dag=_planning$naam[dag])===null||_planning$naam$dag===void 0?void 0:_planning$naam$dag[shift];const naamKey=naam===null||naam===void 0?void 0:naam.toLowerCase();const beschikbaar=beschikbaarheid===null||beschikbaarheid===void 0?void 0:(_beschikbaarheid$naam=beschikbaarheid[naamKey])===null||_beschikbaarheid$naam===void 0?void 0:(_beschikbaarheid$naam2=_beschikbaarheid$naam[dagMap[dag]])===null||_beschikbaarheid$naam2===void 0?void 0:_beschikbaarheid$naam2[shift];if(entry){var _labelMap$entry$funct;const labelMap={schepper:{vast:\"schep\",standby:\"schep(s)\",laat:\"schep(l)\"},ijsbereider:{vast:\"bereider\",standby:\"bereider(s)\",laat:\"bereider(l)\"},ijsvoorbereider:{vast:\"prep\",standby:\"prep(s)\",laat:\"prep(l)\"}};row[key]=((_labelMap$entry$funct=labelMap[entry.functie])===null||_labelMap$entry$funct===void 0?void 0:_labelMap$entry$funct[entry.soort])||`${entry.functie} (${entry.soort})`;}else if(beschikbaar){row[key]=\"✓\";}else{row[key]=\"\";}});});body.push(row);});return body;};function addLoonkostenTabel(doc,medewerkers,planning,loonkostenPerUur){const kolommen=[\"Dag\",...dagen.flatMap(dag=>shifts.map(s=>`${dag} shift ${s}`))];const loonkostenPerShift={};const telling={ijsbereider:{},ijsvoorbereider:{},schepper:{}};dagen.forEach(dag=>{shifts.forEach(shift=>{const key=`${dag} shift ${shift}`;loonkostenPerShift[key]=0;telling.ijsbereider[key]=0;telling.ijsvoorbereider[key]=0;telling.schepper[key]=0;medewerkers.forEach(m=>{var _planning$m$naam,_planning$m$naam$dag;const entry=(_planning$m$naam=planning[m.naam])===null||_planning$m$naam===void 0?void 0:(_planning$m$naam$dag=_planning$m$naam[dag])===null||_planning$m$naam$dag===void 0?void 0:_planning$m$naam$dag[shift];if(entry){var _loonkostenPerUur$m$l;let uren=6;if(entry.soort===\"standby\")uren=4;else if(entry.soort===\"laat\")uren=4;const uurloon=(_loonkostenPerUur$m$l=loonkostenPerUur[m.leeftijd])!==null&&_loonkostenPerUur$m$l!==void 0?_loonkostenPerUur$m$l:15;loonkostenPerShift[key]+=uren*uurloon;if(telling[entry.functie])telling[entry.functie][key]++;}});});});const body=[[\"Loonkosten\",...kolommen.slice(1).map(key=>`€ ${Math.round(loonkostenPerShift[key]||0)}`)],[\"Bereiders\",...kolommen.slice(1).map(key=>telling.ijsbereider[key]||0)],[\"Voorbereiders\",...kolommen.slice(1).map(key=>telling.ijsvoorbereider[key]||0)],[\"Scheppers\",...kolommen.slice(1).map(key=>telling.schepper[key]||0)],[\"Totaal\",...kolommen.slice(1).map(key=>{const a=telling.ijsbereider[key]||0;const b=telling.ijsvoorbereider[key]||0;const c=telling.schepper[key]||0;return a+b+c;})]];const startY=doc.lastAutoTable.finalY+20;autoTable(doc,{startY,head:[kolommen],body,styles:{fontSize:8,minCellHeight:6,halign:'center',valign:'middle',cellPadding:2,lineWidth:0.1,lineColor:[0,0,0]},headStyles:{fillColor:[100,149,237],textColor:255},columnStyles:{0:{fontStyle:'bold',halign:'left'}}});}function addLegenda(doc){var _doc$lastAutoTable;const functies=[[{kleur:[30,58,138],label:\"Bereider\"},{kleur:[96,165,250],label:\"Bereider(s)\"},{kleur:[167,139,250],label:\"Bereider(l)\"}],[{kleur:[191,219,254],label:\"Prep\"},{kleur:[219,234,254],label:\"Prep(s)\"},{kleur:[196,181,253],label:\"Prep(l)\"}],[{kleur:[250,204,21],label:\"Schep\"},{kleur:[254,240,138],label:\"Schep(s)\"},{kleur:[243,244,246],label:\"Schep(l)\"}]];const beschikbaar={kleur:[144,238,144],label:\"Beschikbaar\"};const kolombreedte=70;const rijenPerKolom=functies[0].length;const totaalHoogte=rijenPerKolom*7+10+10;// legenda + kopje + beschikbaar\nlet startY=((_doc$lastAutoTable=doc.lastAutoTable)===null||_doc$lastAutoTable===void 0?void 0:_doc$lastAutoTable.finalY)+10||160;// ✅ Als niet alles past, voeg een pagina toe\nconst ruimteNodig=startY+totaalHoogte;if(ruimteNodig>doc.internal.pageSize.getHeight()-20){doc.addPage();startY=20;}doc.setFontSize(8);doc.text(\"Legenda:\",40,startY);const kolomX=[40,40+kolombreedte,40+kolombreedte*2];for(let i=0;i<3;i++){functies[i].forEach((item,j)=>{const x=kolomX[i];const y=startY+10+j*7;doc.setFillColor(...item.kleur);doc.rect(x,y-5,5,5,\"F\");doc.text(item.label,x+8,y);});}const beschikbaarY=startY+10+rijenPerKolom*7+5;doc.setFillColor(...beschikbaar.kleur);doc.rect(40,beschikbaarY-5,5,5,\"F\");doc.text(beschikbaar.label,48,beschikbaarY);return beschikbaarY+10;// voor volgende blok\n}function addOpmerkingenOnderLegenda(doc,medewerkers,beschikbaarheid,startY){const opmerkingen=medewerkers.map(m=>{var _beschikbaarheid$naam3,_beschikbaarheid$naam4;const naamKey=m.naam.toLowerCase();const opmerking=beschikbaarheid===null||beschikbaarheid===void 0?void 0:(_beschikbaarheid$naam3=beschikbaarheid[naamKey])===null||_beschikbaarheid$naam3===void 0?void 0:(_beschikbaarheid$naam4=_beschikbaarheid$naam3.opmerking)===null||_beschikbaarheid$naam4===void 0?void 0:_beschikbaarheid$naam4.trim();if(opmerking){return`• ${m.naam}: ${opmerking}`;}return null;}).filter(Boolean);if(opmerkingen.length===0)return startY;const ruimteNodig=opmerkingen.length*6+16;if(startY+ruimteNodig>doc.internal.pageSize.getHeight()-20){doc.addPage();startY=20;}const margeLinks=20;const regelhoogte=6;doc.setFontSize(9);doc.setTextColor(33,37,41);doc.setFont(undefined,\"bold\");doc.text(\"Opmerkingen:\",margeLinks,startY+10);doc.setFont(undefined,\"normal\");opmerkingen.forEach((regel,i)=>{doc.text(regel,margeLinks+4,startY+16+i*regelhoogte);});return startY+ruimteNodig;}export const exportToPDF=_ref=>{var _doc$lastAutoTable$fi,_doc$lastAutoTable2;let{medewerkers,planning,beschikbaarheid,loonkostenPerUur,shiftCountPerMedewerker}=_ref;const doc=new jsPDF({orientation:\"landscape\",format:\"a4\"});const vandaag=new Date();const datumStr=vandaag.toLocaleDateString(\"nl-NL\");const weekNr=getWeekNumber(vandaag);doc.setFontSize(16);doc.text(`Beschikbaarheid ijssalon Vincenzo – versie (${datumStr})`,14,12);const pageWidth=doc.internal.pageSize.getWidth();const margin=20;const tableColumn=[\"Naam\",...dagen.flatMap(dag=>shifts.map(shift=>`${dag} ${shift}`))];const body=buildPdfBody(medewerkers,planning,beschikbaarheid,shiftCountPerMedewerker);autoTable(doc,{startY:20,tableWidth:pageWidth-margin,columns:tableColumn.map(key=>({header:key,dataKey:key})),body,styles:{fontSize:8,cellPadding:2,halign:\"center\",valign:\"middle\",lineWidth:0.1,lineColor:[0,0,0]},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:\"bold\"},columnStyles:{Naam:{halign:\"left\",cellWidth:60}},didParseCell(data){const colKey=data.column.dataKey;const rawText=typeof data.cell.raw===\"string\"?data.cell.raw:\"\";const val=rawText.toLowerCase().trim();const kleuren={\"bereider\":[30,58,138],\"bereider(s)\":[96,165,250],\"bereider(l)\":[167,139,250],\"prep\":[191,219,254],\"prep(s)\":[219,234,254],\"prep(l)\":[196,181,253],\"schep\":[250,204,21],\"schep(s)\":[254,240,138],\"schep(l)\":[243,244,246],\"✓\":[144,238,144]};if(kleuren[val]){data.cell.styles.fillColor=kleuren[val];const donkereWaarden=[\"bereider\",\"bereider(l)\"];if(donkereWaarden.includes(val)){data.cell.styles.textColor=[255,255,255];}else if(val===\"✓\"){data.cell.styles.textColor=kleuren[val];}else{data.cell.styles.textColor=[0,0,0];}}if(colKey===\"Naam\"){const match=rawText.match(/\\((\\d+)[\\/](\\d+)\\)/);if(match){const count=parseInt(match[1]);const max=parseInt(match[2]);if(count>max){data.cell.styles.fillColor=[254,202,202];}else if(count<max){data.cell.styles.fillColor=[254,243,199];}}}}});const totaalLoonkosten=medewerkers.reduce((totaal,m)=>{var _loonkostenPerUur$m$l2;const uurloon=(_loonkostenPerUur$m$l2=loonkostenPerUur[m.leeftijd])!==null&&_loonkostenPerUur$m$l2!==void 0?_loonkostenPerUur$m$l2:15;return totaal+dagen.reduce((dagTotaal,dag)=>{return dagTotaal+shifts.reduce((shiftTotaal,shift)=>{var _planning$m$naam2,_planning$m$naam2$dag;const entry=(_planning$m$naam2=planning[m.naam])===null||_planning$m$naam2===void 0?void 0:(_planning$m$naam2$dag=_planning$m$naam2[dag])===null||_planning$m$naam2$dag===void 0?void 0:_planning$m$naam2$dag[shift];if(!entry)return shiftTotaal;let uren=6;if(entry.soort===\"standby\"||entry.soort===\"laat\")uren=4;return shiftTotaal+uren*uurloon;},0);},0);},0);const loonkostenTekst=`Totale loonkosten deze week: €${totaalLoonkosten.toFixed(2)}`;const yNaHoofdtabel=((_doc$lastAutoTable$fi=(_doc$lastAutoTable2=doc.lastAutoTable)===null||_doc$lastAutoTable2===void 0?void 0:_doc$lastAutoTable2.finalY)!==null&&_doc$lastAutoTable$fi!==void 0?_doc$lastAutoTable$fi:30)+10;doc.setFontSize(12);doc.setTextColor(40);doc.setFont(undefined,\"bold\");doc.text(loonkostenTekst,14,yNaHoofdtabel);addLoonkostenTabel(doc,medewerkers,planning,loonkostenPerUur);let laatsteY=addLegenda(doc);laatsteY=addOpmerkingenOnderLegenda(doc,medewerkers,beschikbaarheid,laatsteY);function getWeekNumber(date){const temp=new Date(date.getTime());temp.setHours(0,0,0,0);temp.setDate(temp.getDate()+3-(temp.getDay()+6)%7);const week1=new Date(temp.getFullYear(),0,4);return 1+Math.round(((temp.getTime()-week1.getTime())/86400000-3+(week1.getDay()+6)%7)/7);}if(laatsteY>doc.internal.pageSize.getHeight()-20){doc.addPage();laatsteY=20;}const safeDatum=datumStr.replace(/-/g,'_');doc.save(`planning_week_${weekNr}_${safeDatum}.pdf`);};","map":{"version":3,"names":["jsPDF","autoTable","dagMap","dagen","shifts","buildPdfBody","medewerkers","planning","beschikbaarheid","shiftCountPerMedewerker","body","forEach","m","_m$maxShifts","_m$leeftijd","naam","count","max","maxShifts","leeftijd","row","Naam","split","map","part","i","charAt","toUpperCase","slice","join","dag","shift","_planning$naam","_planning$naam$dag","_beschikbaarheid$naam","_beschikbaarheid$naam2","key","entry","naamKey","toLowerCase","beschikbaar","_labelMap$entry$funct","labelMap","schepper","vast","standby","laat","ijsbereider","ijsvoorbereider","functie","soort","push","addLoonkostenTabel","doc","loonkostenPerUur","kolommen","flatMap","s","loonkostenPerShift","telling","_planning$m$naam","_planning$m$naam$dag","_loonkostenPerUur$m$l","uren","uurloon","Math","round","a","b","c","startY","lastAutoTable","finalY","head","styles","fontSize","minCellHeight","halign","valign","cellPadding","lineWidth","lineColor","headStyles","fillColor","textColor","columnStyles","fontStyle","addLegenda","_doc$lastAutoTable","functies","kleur","label","kolombreedte","rijenPerKolom","length","totaalHoogte","ruimteNodig","internal","pageSize","getHeight","addPage","setFontSize","text","kolomX","item","j","x","y","setFillColor","rect","beschikbaarY","addOpmerkingenOnderLegenda","opmerkingen","_beschikbaarheid$naam3","_beschikbaarheid$naam4","opmerking","trim","filter","Boolean","margeLinks","regelhoogte","setTextColor","setFont","undefined","regel","exportToPDF","_ref","_doc$lastAutoTable$fi","_doc$lastAutoTable2","orientation","format","vandaag","Date","datumStr","toLocaleDateString","weekNr","getWeekNumber","pageWidth","getWidth","margin","tableColumn","tableWidth","columns","header","dataKey","cellWidth","didParseCell","data","colKey","column","rawText","cell","raw","val","kleuren","donkereWaarden","includes","match","parseInt","totaalLoonkosten","reduce","totaal","_loonkostenPerUur$m$l2","dagTotaal","shiftTotaal","_planning$m$naam2","_planning$m$naam2$dag","loonkostenTekst","toFixed","yNaHoofdtabel","laatsteY","date","temp","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","safeDatum","replace","save"],"sources":["C:/Users/van den Akker/planner/planner-app/src/utils/exportToPDF.js"],"sourcesContent":["import jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport { dagMap } from \"./dagen\";\r\n\r\nconst dagen = [\"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\", \"zo\"];\r\nconst shifts = [1, 2];\r\n\r\nconst buildPdfBody = (medewerkers, planning, beschikbaarheid, shiftCountPerMedewerker) => {\r\n  const body = [];\r\n\r\n  medewerkers.forEach((m) => {\r\n    const naam = m.naam;\r\n    const count = shiftCountPerMedewerker[naam] || 0;\r\n    const max = m.maxShifts ?? \"?\";\r\n    const leeftijd = m.leeftijd ?? \"?\";\r\n\r\n    const row = {\r\n      Naam: `${naam.split(\" \").map((part, i) =>\r\n        i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)\r\n      ).join(\" \")} [${leeftijd}] (${count}/${max})`\r\n    };\r\n\r\n    dagen.forEach((dag) => {\r\n      shifts.forEach((shift) => {\r\n        const key = `${dag} ${shift}`;\r\n        const entry = planning[naam]?.[dag]?.[shift];\r\n        const naamKey = naam?.toLowerCase();\r\n        const beschikbaar = beschikbaarheid?.[naamKey]?.[dagMap[dag]]?.[shift];\r\n\r\n        if (entry) {\r\n          const labelMap = {\r\n            schepper: { vast: \"schep\", standby: \"schep(s)\", laat: \"schep(l)\" },\r\n            ijsbereider: { vast: \"bereider\", standby: \"bereider(s)\", laat: \"bereider(l)\" },\r\n            ijsvoorbereider: { vast: \"prep\", standby: \"prep(s)\", laat: \"prep(l)\" },\r\n          };\r\n          row[key] = labelMap[entry.functie]?.[entry.soort] || `${entry.functie} (${entry.soort})`;\r\n        } else if (beschikbaar) {\r\n          row[key] = \"✓\";\r\n        } else {\r\n          row[key] = \"\";\r\n        }\r\n      });\r\n    });\r\n\r\n    body.push(row);\r\n  });\r\n\r\n  return body;\r\n};\r\n\r\nfunction addLoonkostenTabel(doc, medewerkers, planning, loonkostenPerUur) {\r\n  const kolommen = [\"Dag\", ...dagen.flatMap(dag => shifts.map(s => `${dag} shift ${s}`))];\r\n\r\n  const loonkostenPerShift = {};\r\n  const telling = {\r\n    ijsbereider: {},\r\n    ijsvoorbereider: {},\r\n    schepper: {}\r\n  };\r\n\r\n  dagen.forEach(dag => {\r\n    shifts.forEach(shift => {\r\n      const key = `${dag} shift ${shift}`;\r\n      loonkostenPerShift[key] = 0;\r\n      telling.ijsbereider[key] = 0;\r\n      telling.ijsvoorbereider[key] = 0;\r\n      telling.schepper[key] = 0;\r\n\r\n      medewerkers.forEach(m => {\r\n        const entry = planning[m.naam]?.[dag]?.[shift];\r\n        if (entry) {\r\n          let uren = 6;\r\n          if (entry.soort === \"standby\") uren = 4;\r\n          else if (entry.soort === \"laat\") uren = 4;\r\n          const uurloon = loonkostenPerUur[m.leeftijd] ?? 15;\r\n          loonkostenPerShift[key] += uren * uurloon;\r\n          if (telling[entry.functie]) telling[entry.functie][key]++;\r\n        }\r\n      });\r\n    });\r\n  });\r\n\r\n  const body = [\r\n    [\"Loonkosten\", ...kolommen.slice(1).map(key => `€ ${Math.round(loonkostenPerShift[key] || 0)}`)],\r\n    [\"Bereiders\", ...kolommen.slice(1).map(key => telling.ijsbereider[key] || 0)],\r\n    [\"Voorbereiders\", ...kolommen.slice(1).map(key => telling.ijsvoorbereider[key] || 0)],\r\n    [\"Scheppers\", ...kolommen.slice(1).map(key => telling.schepper[key] || 0)],\r\n    [\"Totaal\", ...kolommen.slice(1).map(key => {\r\n      const a = telling.ijsbereider[key] || 0;\r\n      const b = telling.ijsvoorbereider[key] || 0;\r\n      const c = telling.schepper[key] || 0;\r\n      return a + b + c;\r\n    })],\r\n  ];\r\n\r\n  const startY = doc.lastAutoTable.finalY + 20;\r\n  autoTable(doc, {\r\n    startY,\r\n    head: [kolommen],\r\n    body,\r\n    styles: {\r\n      fontSize: 8,\r\n      minCellHeight: 6,\r\n      halign: 'center',\r\n      valign: 'middle',\r\n      cellPadding: 2,\r\n      lineWidth: 0.1,\r\n      lineColor: [0, 0, 0],\r\n    },\r\n    headStyles: {\r\n      fillColor: [100, 149, 237],\r\n      textColor: 255,\r\n    },\r\n    columnStyles: { 0: { fontStyle: 'bold', halign: 'left' } },\r\n  });\r\n}\r\n\r\nfunction addLegenda(doc) {\r\n  const functies = [\r\n    [\r\n      { kleur: [30, 58, 138], label: \"Bereider\" },\r\n      { kleur: [96, 165, 250], label: \"Bereider(s)\" },\r\n      { kleur: [167, 139, 250], label: \"Bereider(l)\" },\r\n    ],\r\n    [\r\n      { kleur: [191, 219, 254], label: \"Prep\" },\r\n      { kleur: [219, 234, 254], label: \"Prep(s)\" },\r\n      { kleur: [196, 181, 253], label: \"Prep(l)\" },\r\n    ],\r\n    [\r\n      { kleur: [250, 204, 21], label: \"Schep\" },\r\n      { kleur: [254, 240, 138], label: \"Schep(s)\" },\r\n      { kleur: [243, 244, 246], label: \"Schep(l)\" },\r\n    ],\r\n  ];\r\n\r\n  const beschikbaar = { kleur: [144, 238, 144], label: \"Beschikbaar\" };\r\n\r\n  const kolombreedte = 70;\r\n  const rijenPerKolom = functies[0].length;\r\n  const totaalHoogte = rijenPerKolom * 7 + 10 + 10; // legenda + kopje + beschikbaar\r\n\r\n  let startY = doc.lastAutoTable?.finalY + 10 || 160;\r\n\r\n  // ✅ Als niet alles past, voeg een pagina toe\r\n  const ruimteNodig = startY + totaalHoogte;\r\n  if (ruimteNodig > doc.internal.pageSize.getHeight() - 20) {\r\n    doc.addPage();\r\n    startY = 20;\r\n  }\r\n\r\n  doc.setFontSize(8);\r\n  doc.text(\"Legenda:\", 40, startY);\r\n\r\n  const kolomX = [40, 40 + kolombreedte, 40 + kolombreedte * 2];\r\n\r\n  for (let i = 0; i < 3; i++) {\r\n    functies[i].forEach((item, j) => {\r\n      const x = kolomX[i];\r\n      const y = startY + 10 + j * 7;\r\n      doc.setFillColor(...item.kleur);\r\n      doc.rect(x, y - 5, 5, 5, \"F\");\r\n      doc.text(item.label, x + 8, y);\r\n    });\r\n  }\r\n\r\n  const beschikbaarY = startY + 10 + rijenPerKolom * 7 + 5;\r\n  doc.setFillColor(...beschikbaar.kleur);\r\n  doc.rect(40, beschikbaarY - 5, 5, 5, \"F\");\r\n  doc.text(beschikbaar.label, 48, beschikbaarY);\r\n\r\n  return beschikbaarY + 10; // voor volgende blok\r\n}\r\n\r\nfunction addOpmerkingenOnderLegenda(doc, medewerkers, beschikbaarheid, startY) {\r\n  const opmerkingen = medewerkers\r\n    .map((m) => {\r\n      const naamKey = m.naam.toLowerCase();\r\n      const opmerking = beschikbaarheid?.[naamKey]?.opmerking?.trim();\r\n      if (opmerking) {\r\n        return `• ${m.naam}: ${opmerking}`;\r\n      }\r\n      return null;\r\n    })\r\n    .filter(Boolean);\r\n\r\n  if (opmerkingen.length === 0) return startY;\r\n\r\n  const ruimteNodig = opmerkingen.length * 6 + 16;\r\n  if (startY + ruimteNodig > doc.internal.pageSize.getHeight() - 20) {\r\n    doc.addPage();\r\n    startY = 20;\r\n  }\r\n\r\n  const margeLinks = 20;\r\n  const regelhoogte = 6;\r\n\r\n  doc.setFontSize(9);\r\n  doc.setTextColor(33, 37, 41);\r\n  doc.setFont(undefined, \"bold\");\r\n  doc.text(\"Opmerkingen:\", margeLinks, startY + 10);\r\n\r\n  doc.setFont(undefined, \"normal\");\r\n  opmerkingen.forEach((regel, i) => {\r\n    doc.text(regel, margeLinks + 4, startY + 16 + i * regelhoogte);\r\n  });\r\n\r\n  return startY + ruimteNodig;\r\n}\r\n\r\nexport const exportToPDF = ({ medewerkers, planning, beschikbaarheid, loonkostenPerUur, shiftCountPerMedewerker }) => {\r\n  const doc = new jsPDF({ orientation: \"landscape\", format: \"a4\" });\r\n  const vandaag = new Date();\r\n  const datumStr = vandaag.toLocaleDateString(\"nl-NL\");\r\n  const weekNr = getWeekNumber(vandaag);\r\n  doc.setFontSize(16);\r\n  doc.text(`Beschikbaarheid ijssalon Vincenzo – versie (${datumStr})`, 14, 12);\r\n  const pageWidth = doc.internal.pageSize.getWidth();\r\n  const margin = 20;\r\n\r\n  const tableColumn = [\"Naam\", ...dagen.flatMap((dag) => shifts.map((shift) => `${dag} ${shift}`))];\r\n  const body = buildPdfBody(medewerkers, planning, beschikbaarheid, shiftCountPerMedewerker);\r\n\r\n  autoTable(doc, {\r\n    startY: 20,\r\n    tableWidth: pageWidth - margin,\r\n    columns: tableColumn.map((key) => ({ header: key, dataKey: key })),\r\n    body,\r\n    styles: {\r\n      fontSize: 8,\r\n      cellPadding: 2,\r\n      halign: \"center\",\r\n      valign: \"middle\",\r\n      lineWidth: 0.1,\r\n      lineColor: [0, 0, 0],\r\n    },\r\n    headStyles: {\r\n      fillColor: [41, 128, 185],\r\n      textColor: [255, 255, 255],\r\n      fontStyle: \"bold\",\r\n    },\r\n    columnStyles: {\r\n      Naam: { halign: \"left\", cellWidth: 60 },\r\n    },\r\n    didParseCell(data) {\r\n      const colKey = data.column.dataKey;\r\n      const rawText = typeof data.cell.raw === \"string\" ? data.cell.raw : \"\";\r\n      const val = rawText.toLowerCase().trim();\r\n\r\n      const kleuren = {\r\n        \"bereider\": [30, 58, 138],\r\n        \"bereider(s)\": [96, 165, 250],\r\n        \"bereider(l)\": [167, 139, 250],\r\n        \"prep\": [191, 219, 254],\r\n        \"prep(s)\": [219, 234, 254],\r\n        \"prep(l)\": [196, 181, 253],\r\n        \"schep\": [250, 204, 21],\r\n        \"schep(s)\": [254, 240, 138],\r\n        \"schep(l)\": [243, 244, 246],\r\n        \"✓\": [144, 238, 144],\r\n      };\r\n\r\n      if (kleuren[val]) {\r\n        data.cell.styles.fillColor = kleuren[val];\r\n        const donkereWaarden = [\"bereider\", \"bereider(l)\"];\r\n        if (donkereWaarden.includes(val)) {\r\n          data.cell.styles.textColor = [255, 255, 255];\r\n        } else if (val === \"✓\") {\r\n          data.cell.styles.textColor = kleuren[val];\r\n        } else {\r\n          data.cell.styles.textColor = [0, 0, 0];\r\n        }\r\n      }\r\n\r\n      if (colKey === \"Naam\") {\r\n        const match = rawText.match(/\\((\\d+)[\\/](\\d+)\\)/);\r\n        if (match) {\r\n          const count = parseInt(match[1]);\r\n          const max = parseInt(match[2]);\r\n          if (count > max) {\r\n            data.cell.styles.fillColor = [254, 202, 202];\r\n          } else if (count < max) {\r\n            data.cell.styles.fillColor = [254, 243, 199];\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  const totaalLoonkosten = medewerkers.reduce((totaal, m) => {\r\n    const uurloon = loonkostenPerUur[m.leeftijd] ?? 15;\r\n    return totaal + dagen.reduce((dagTotaal, dag) => {\r\n      return dagTotaal + shifts.reduce((shiftTotaal, shift) => {\r\n        const entry = planning[m.naam]?.[dag]?.[shift];\r\n        if (!entry) return shiftTotaal;\r\n        let uren = 6;\r\n        if (entry.soort === \"standby\" || entry.soort === \"laat\") uren = 4;\r\n        return shiftTotaal + uren * uurloon;\r\n      }, 0);\r\n    }, 0);\r\n  }, 0);\r\n\r\n  const loonkostenTekst = `Totale loonkosten deze week: €${totaalLoonkosten.toFixed(2)}`;\r\n  const yNaHoofdtabel = (doc.lastAutoTable?.finalY ?? 30) + 10;\r\n  doc.setFontSize(12);\r\n  doc.setTextColor(40);\r\n  doc.setFont(undefined, \"bold\");\r\n  doc.text(loonkostenTekst, 14, yNaHoofdtabel);\r\n\r\n  addLoonkostenTabel(doc, medewerkers, planning, loonkostenPerUur);\r\n  let laatsteY = addLegenda(doc);\r\n  laatsteY = addOpmerkingenOnderLegenda(doc, medewerkers, beschikbaarheid, laatsteY);\r\n\r\nfunction getWeekNumber(date) {\r\n  const temp = new Date(date.getTime());\r\n  temp.setHours(0, 0, 0, 0);\r\n  temp.setDate(temp.getDate() + 3 - ((temp.getDay() + 6) % 7));\r\n  const week1 = new Date(temp.getFullYear(), 0, 4);\r\n  return 1 + Math.round(((temp.getTime() - week1.getTime()) / 86400000 - 3 + ((week1.getDay() + 6) % 7)) / 7);\r\n}\r\n\r\n  if (laatsteY > doc.internal.pageSize.getHeight() - 20) {\r\n    doc.addPage();\r\n    laatsteY = 20;\r\n  }\r\n\r\n  const safeDatum = datumStr.replace(/-/g, '_');\r\n  doc.save(`planning_week_${weekNr}_${safeDatum}.pdf`);\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}