{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\van den Akker\\\\planner\\\\planner-app\\\\src\\\\PlannerBoard.jsx\",\n  _s = $RefreshSig$();\nconsole.log(\"üöÄ PlannerBoard geladen\");\nimport React, { useState, useEffect } from \"react\";\nimport { getShiftCountPerMedewerker, importeerBeschikbaarheidKnop, importeerLoonkostenKnop } from \"./utils/plannerHelpers\";\nimport { dagMap } from \"./utils/dagen\";\nimport { exportToPDF } from \"./utils/exportToPDF\";\nimport { kleurSchema } from \"./utils/kleurSchema\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dagen = [\"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\", \"zo\"];\nconst shifts = [1, 2];\nexport default function PlannerBoard({\n  beschikbaarheid: beschikbaarheidProp,\n  planning,\n  setPlanning,\n  onTotalLoonkostenChange\n}) {\n  _s();\n  const [medewerkers, setMedewerkers] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"medewerkers\");\n      const parsed = saved ? JSON.parse(saved) : [];\n      return Array.isArray(parsed) ? parsed.filter(m => m && typeof m === \"object\" && m.naam) : [];\n    } catch {\n      return [];\n    }\n  });\n  const [beschikbaarheid, setLocalBeschikbaarheid] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"beschikbaarheid\");\n      return saved ? JSON.parse(saved) : {};\n    } catch {\n      return {};\n    }\n  });\n  useEffect(() => {\n    if (beschikbaarheidProp && Object.keys(beschikbaarheidProp).length > 0) {\n      setLocalBeschikbaarheid(beschikbaarheidProp);\n      localStorage.setItem(\"beschikbaarheid\", JSON.stringify(beschikbaarheidProp));\n    }\n  }, [beschikbaarheidProp]);\n  const [popup, setPopup] = useState(null);\n  const shiftCountPerMedewerker = getShiftCountPerMedewerker(planning);\n  const [loonkostenPerUur, setLoonkostenPerUur] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"loonkosten\");\n      return saved ? JSON.parse(saved) : {};\n    } catch {\n      return {};\n    }\n  });\n  const gestructureerdeUpdate = (prev, popup, functie, soort) => {\n    var _prev$popup$medewerke;\n    return {\n      ...prev,\n      [popup.medewerker]: {\n        ...prev[popup.medewerker],\n        [popup.dag]: {\n          ...((_prev$popup$medewerke = prev[popup.medewerker]) === null || _prev$popup$medewerke === void 0 ? void 0 : _prev$popup$medewerke[popup.dag]),\n          [popup.shift]: {\n            functie,\n            soort\n          }\n        }\n      }\n    };\n  };\n  const updatePlanning = (functie, soort) => {\n    if (popup) {\n      setPlanning(prev => {\n        const nieuwePlanning = gestructureerdeUpdate(prev, popup, functie, soort);\n        localStorage.setItem(\"planning\", JSON.stringify(nieuwePlanning));\n        return nieuwePlanning;\n      });\n      setPopup(null);\n    }\n  };\n  useEffect(() => {\n    let totaal = 0;\n    medewerkers.forEach(m => {\n      dagen.forEach(dag => {\n        shifts.forEach(shift => {\n          var _planning$m$naam, _planning$m$naam$dag;\n          const entry = (_planning$m$naam = planning[m.naam]) === null || _planning$m$naam === void 0 ? void 0 : (_planning$m$naam$dag = _planning$m$naam[dag]) === null || _planning$m$naam$dag === void 0 ? void 0 : _planning$m$naam$dag[shift];\n          if (entry) {\n            var _loonkostenPerUur$lee;\n            let uren = 6;\n            if (entry.soort === \"standby\") uren = 4;else if (entry.soort === \"laat\") uren = 4;\n            const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n            const uurloon = (_loonkostenPerUur$lee = loonkostenPerUur[leeftijd]) !== null && _loonkostenPerUur$lee !== void 0 ? _loonkostenPerUur$lee : 15;\n            totaal += uren * uurloon;\n          }\n        });\n      });\n    });\n    if (typeof onTotalLoonkostenChange === 'function') {\n      onTotalLoonkostenChange(totaal);\n    }\n  }, [planning, medewerkers]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 items-center mb-4\",\n      children: [importeerBeschikbaarheidKnop(setLocalBeschikbaarheid, setMedewerkers), /*#__PURE__*/React.cloneElement(importeerLoonkostenKnop(setLoonkostenPerUur), {\n        className: \"bg-blue-600 text-white px-4 py-2 rounded shadow\"\n      }), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => exportToPDF({\n          medewerkers,\n          planning,\n          beschikbaarheid,\n          loonkostenPerUur,\n          shiftCountPerMedewerker\n        }),\n        className: \"bg-red-600 text-white px-4 py-2 rounded shadow\",\n        children: \"Exporteer naar PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(planning));\n          const downloadAnchor = document.createElement('a');\n          downloadAnchor.setAttribute(\"href\", dataStr);\n          downloadAnchor.setAttribute(\"download\", \"planning-backup.json\");\n          downloadAnchor.click();\n        },\n        className: \"bg-purple-600 text-white px-4 py-2 rounded shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            [\"planning\", \"medewerkers\", \"beschikbaarheid\", \"loonkosten\"].forEach(key => {\n              const data = localStorage.getItem(key);\n              if (data) {\n                const blob = new Blob([data], {\n                  type: \"application/json\"\n                });\n                const url = URL.createObjectURL(blob);\n                const a = document.createElement(\"a\");\n                a.href = url;\n                a.download = `${key}.json`;\n                a.click();\n              } else {\n                console.warn(`Geen data gevonden voor '${key}'`);\n              }\n            });\n          },\n          className: \"bg-blue-500 text-white px-4 py-2 rounded\",\n          children: \"\\uD83D\\uDCE5 Exporteer lokale data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 1\n        }, this), \"Download planning\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"bg-yellow-600 text-white px-4 py-2 rounded shadow cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Importeer planning\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"application/json\",\n          onChange: e => {\n            const file = e.target.files[0];\n            if (file) {\n              const reader = new FileReader();\n              reader.onload = event => {\n                try {\n                  const json = JSON.parse(event.target.result);\n                  setPlanning(json);\n                  localStorage.setItem(\"planning\", JSON.stringify(json));\n                } catch {\n                  alert(\"Kon planning niet laden, controleer het bestand.\");\n                }\n              };\n              reader.readAsText(file);\n            }\n          },\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), medewerkers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"text-xs border-collapse w-full bg-white shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"sticky top-0 bg-white z-10 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"border px-2 py-1 w-60 text-left\",\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), dagen.map(dag => shifts.map(shift => /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"border px-2 py-1 text-center\",\n              style: {\n                borderLeftWidth: shift === 1 ? '2px' : undefined\n              },\n              children: [dag, \" \", shift]\n            }, `${dag}-${shift}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 21\n            }, this)))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"border px-2 py-1 font-semibold bg-gray-100\",\n              children: \"Totaal ingepland\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this), dagen.map(dag => shifts.map(shift => {\n              const totaal = medewerkers.filter(m => {\n                var _planning$m$naam2, _planning$m$naam2$dag;\n                const entry = (_planning$m$naam2 = planning[m.naam]) === null || _planning$m$naam2 === void 0 ? void 0 : (_planning$m$naam2$dag = _planning$m$naam2[dag]) === null || _planning$m$naam2$dag === void 0 ? void 0 : _planning$m$naam2$dag[shift];\n                return (entry === null || entry === void 0 ? void 0 : entry.functie) === \"ijsbereider\" || (entry === null || entry === void 0 ? void 0 : entry.functie) === \"ijsvoorbereider\" || (entry === null || entry === void 0 ? void 0 : entry.functie) === \"schepper\";\n              }).length;\n              return /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border px-2 py-1 text-center bg-gray-50 font-semibold\",\n                style: {\n                  borderLeftWidth: shift === 1 ? '2px' : undefined\n                },\n                children: totaal\n              }, `Totaal-${dag}-${shift}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 23\n              }, this);\n            }))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), [\"Bereiders\", \"Voorbereiders\", \"Scheppers\", \"Kosten\"].map(type => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"border px-2 py-1 font-semibold\",\n              children: type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this), dagen.map(dag => shifts.map(shift => {\n              let value = 0;\n              if (type === \"Kosten\") {\n                value = medewerkers.reduce((totaal, m) => {\n                  var _planning$m$naam3, _planning$m$naam3$dag, _loonkostenPerUur$lee2;\n                  const entry = (_planning$m$naam3 = planning[m.naam]) === null || _planning$m$naam3 === void 0 ? void 0 : (_planning$m$naam3$dag = _planning$m$naam3[dag]) === null || _planning$m$naam3$dag === void 0 ? void 0 : _planning$m$naam3$dag[shift];\n                  if (!entry) return totaal;\n                  let uren = 6;\n                  if (entry.soort === \"standby\") uren = 4;else if (entry.soort === \"laat\") uren = 4;\n                  const leeftijd = typeof m.leeftijd === \"number\" ? m.leeftijd : 18;\n                  const uurloon = (_loonkostenPerUur$lee2 = loonkostenPerUur[leeftijd]) !== null && _loonkostenPerUur$lee2 !== void 0 ? _loonkostenPerUur$lee2 : 15;\n                  return totaal + uren * uurloon;\n                }, 0);\n              } else {\n                const functieMap = {\n                  Bereiders: \"ijsbereider\",\n                  Voorbereiders: \"ijsvoorbereider\",\n                  Scheppers: \"schepper\"\n                };\n                const functie = functieMap[type];\n                value = medewerkers.filter(m => {\n                  var _planning$m$naam4, _planning$m$naam4$dag, _planning$m$naam4$dag2;\n                  return ((_planning$m$naam4 = planning[m.naam]) === null || _planning$m$naam4 === void 0 ? void 0 : (_planning$m$naam4$dag = _planning$m$naam4[dag]) === null || _planning$m$naam4$dag === void 0 ? void 0 : (_planning$m$naam4$dag2 = _planning$m$naam4$dag[shift]) === null || _planning$m$naam4$dag2 === void 0 ? void 0 : _planning$m$naam4$dag2.functie) === functie;\n                }).length;\n              }\n              return /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border px-2 py-1 text-center\",\n                style: {\n                  borderLeftWidth: shift === 1 ? '2px' : undefined\n                },\n                children: type === \"Kosten\" ? `‚Ç¨ ${Math.round(value)}` : value\n              }, `${type}-${dag}-${shift}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 25\n              }, this);\n            }))]\n          }, type, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this), medewerkers.length > 0 && /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table-fixed border w-full bg-white text-xs font-sans\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-4 py-2 text-left w-60\",\n            children: \"Naam\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this), dagen.map(dag => shifts.map(shift => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-2 py-1 text-center\",\n            children: [dag, \" \", shift]\n          }, `${dag}-${shift}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 19\n          }, this)))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this), \"...\", /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: medewerkers.map(m => {\n          var _m$maxShifts, _m$maxShifts2, _m$leeftijd, _m$maxShifts3;\n          const naamKey = m.naam.trim().toLowerCase();\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: `border px-4 py-2 text-left whitespace-nowrap w-60 font-bold ${(shiftCountPerMedewerker[m.naam] || 0) > ((_m$maxShifts = m.maxShifts) !== null && _m$maxShifts !== void 0 ? _m$maxShifts : Infinity) ? \"bg-red-200\" : (shiftCountPerMedewerker[m.naam] || 0) < ((_m$maxShifts2 = m.maxShifts) !== null && _m$maxShifts2 !== void 0 ? _m$maxShifts2 : 0) ? \"bg-yellow-200\" : \"\"}`,\n              title: m.opmerking || \"\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center gap-1\",\n                children: [m.naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \"), \" [\", (_m$leeftijd = m.leeftijd) !== null && _m$leeftijd !== void 0 ? _m$leeftijd : \"?\", \"] (\", shiftCountPerMedewerker[m.naam] || 0, \"/\", (_m$maxShifts3 = m.maxShifts) !== null && _m$maxShifts3 !== void 0 ? _m$maxShifts3 : \"?\", \")\", m.opmerking && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-600 text-sm\",\n                  title: m.opmerking,\n                  children: \"\\uD83D\\uDCCC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 7\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 8\n            }, this), dagen.map(dag => shifts.map(shift => {\n              var _planning$m$naam5, _planning$m$naam5$dag, _beschikbaarheid$naam, _beschikbaarheid$naam2;\n              const entry = (_planning$m$naam5 = planning[m.naam]) === null || _planning$m$naam5 === void 0 ? void 0 : (_planning$m$naam5$dag = _planning$m$naam5[dag]) === null || _planning$m$naam5$dag === void 0 ? void 0 : _planning$m$naam5$dag[shift];\n              const beschikbaar = beschikbaarheid === null || beschikbaarheid === void 0 ? void 0 : (_beschikbaarheid$naam = beschikbaarheid[naamKey]) === null || _beschikbaarheid$naam === void 0 ? void 0 : (_beschikbaarheid$naam2 = _beschikbaarheid$naam[dagMap[dag]]) === null || _beschikbaarheid$naam2 === void 0 ? void 0 : _beschikbaarheid$naam2[shift];\n              let text = \"\";\n              let bgColor = \"#ffffff\";\n              let color = \"#000000\";\n              if (entry) {\n                var _kleurSchema$entry$fu, _labelMap$entry$funct;\n                const kleur = (_kleurSchema$entry$fu = kleurSchema[entry.functie]) === null || _kleurSchema$entry$fu === void 0 ? void 0 : _kleurSchema$entry$fu[entry.soort];\n                bgColor = (kleur === null || kleur === void 0 ? void 0 : kleur.hex) || \"#ffffff\";\n                color = kleur !== null && kleur !== void 0 && kleur.tailwind.includes(\"text-white\") ? \"#ffffff\" : \"#000000\";\n                const labelMap = {\n                  schepper: {\n                    vast: \"schep\",\n                    standby: \"schep(s)\",\n                    laat: \"schep(l)\"\n                  },\n                  ijsbereider: {\n                    vast: \"bereider\",\n                    standby: \"bereider(s)\",\n                    laat: \"bereider(l)\"\n                  },\n                  ijsvoorbereider: {\n                    vast: \"prep\",\n                    standby: \"prep(s)\",\n                    laat: \"prep(l)\"\n                  }\n                };\n                text = ((_labelMap$entry$funct = labelMap[entry.functie]) === null || _labelMap$entry$funct === void 0 ? void 0 : _labelMap$entry$funct[entry.soort]) || `${entry.functie} (${entry.soort})`;\n              } else if (beschikbaar) {\n                const kleur = kleurSchema.beschikbaar;\n                bgColor = kleur.hex;\n                color = kleur.tailwind.includes(\"text-white\") ? \"#ffffff\" : \"#000000\";\n                text = \"‚úì\";\n              }\n              return /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border text-center cursor-pointer\",\n                style: {\n                  borderLeftWidth: shift === 1 ? '2px' : undefined,\n                  backgroundColor: shift === 1 && !text ? '#FFFBEB' : shift === 2 && !text ? '#F0F9FF' : bgColor,\n                  color,\n                  fontWeight: \"bold\"\n                },\n                title: `Shift ${shift} op ${dagMap[dag]}`,\n                onClick: () => {\n                  var _planning$m$naam6, _planning$m$naam6$dag;\n                  const entry = (_planning$m$naam6 = planning[m.naam]) === null || _planning$m$naam6 === void 0 ? void 0 : (_planning$m$naam6$dag = _planning$m$naam6[dag]) === null || _planning$m$naam6$dag === void 0 ? void 0 : _planning$m$naam6$dag[shift];\n                  if (entry) {\n                    setPlanning(prev => {\n                      const nieuw = {\n                        ...prev\n                      };\n                      delete nieuw[m.naam][dag][shift];\n                      if (Object.keys(nieuw[m.naam][dag]).length === 0) delete nieuw[m.naam][dag];\n                      if (Object.keys(nieuw[m.naam]).length === 0) delete nieuw[m.naam];\n                      localStorage.setItem(\"planning\", JSON.stringify(nieuw));\n                      return nieuw;\n                    });\n                  } else {\n                    setPopup({\n                      medewerker: m.naam,\n                      dag,\n                      shift\n                    });\n                  }\n                },\n                children: text\n              }, `${m.naam}-${dag}-${shift}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 15\n              }, this);\n            }))]\n          }, m.naam, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 7\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 9\n    }, this), popup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow-md w-[400px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-bold mb-4 text-center\",\n          children: [popup.medewerker, \" - \", popup.dag, \" Shift \", popup.shift]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-2\",\n          children: [\"ijsbereider\", \"ijsvoorbereider\", \"schepper\"].map(functie => [\"vast\", \"standby\", \"laat\"].map(soort => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `${kleurSchema[functie][soort].tailwind} px-3 py-2 rounded font-medium text-sm`,\n            onClick: () => updatePlanning(functie, soort),\n            children: soort === \"standby\" ? `‚è±Ô∏è ${functie}` : soort === \"laat\" ? `üåô ${functie}` : functie\n          }, `${functie}-${soort}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 19\n          }, this)))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPopup(null),\n            className: \"text-gray-600 text-sm underline\",\n            children: \"Annuleren\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n_s(PlannerBoard, \"f/Uw1etCHYHcHYovhHuQbOOP62c=\");\n_c = PlannerBoard;\nvar _c;\n$RefreshReg$(_c, \"PlannerBoard\");","map":{"version":3,"names":["console","log","React","useState","useEffect","getShiftCountPerMedewerker","importeerBeschikbaarheidKnop","importeerLoonkostenKnop","dagMap","exportToPDF","kleurSchema","jsxDEV","_jsxDEV","dagen","shifts","PlannerBoard","beschikbaarheid","beschikbaarheidProp","planning","setPlanning","onTotalLoonkostenChange","_s","medewerkers","setMedewerkers","saved","localStorage","getItem","parsed","JSON","parse","Array","isArray","filter","m","naam","setLocalBeschikbaarheid","Object","keys","length","setItem","stringify","popup","setPopup","shiftCountPerMedewerker","loonkostenPerUur","setLoonkostenPerUur","gestructureerdeUpdate","prev","functie","soort","_prev$popup$medewerke","medewerker","dag","shift","updatePlanning","nieuwePlanning","totaal","forEach","_planning$m$naam","_planning$m$naam$dag","entry","_loonkostenPerUur$lee","uren","leeftijd","uurloon","className","children","cloneElement","onClick","fileName","_jsxFileName","lineNumber","columnNumber","dataStr","encodeURIComponent","downloadAnchor","document","createElement","setAttribute","click","key","data","blob","Blob","type","url","URL","createObjectURL","a","href","download","warn","accept","onChange","e","file","target","files","reader","FileReader","onload","event","json","result","alert","readAsText","map","style","borderLeftWidth","undefined","_planning$m$naam2","_planning$m$naam2$dag","value","reduce","_planning$m$naam3","_planning$m$naam3$dag","_loonkostenPerUur$lee2","functieMap","Bereiders","Voorbereiders","Scheppers","_planning$m$naam4","_planning$m$naam4$dag","_planning$m$naam4$dag2","Math","round","_m$maxShifts","_m$maxShifts2","_m$leeftijd","_m$maxShifts3","naamKey","trim","toLowerCase","maxShifts","Infinity","title","opmerking","split","part","i","charAt","toUpperCase","slice","join","_planning$m$naam5","_planning$m$naam5$dag","_beschikbaarheid$naam","_beschikbaarheid$naam2","beschikbaar","text","bgColor","color","_kleurSchema$entry$fu","_labelMap$entry$funct","kleur","hex","tailwind","includes","labelMap","schepper","vast","standby","laat","ijsbereider","ijsvoorbereider","backgroundColor","fontWeight","_planning$m$naam6","_planning$m$naam6$dag","nieuw","_c","$RefreshReg$"],"sources":["C:/Users/van den Akker/planner/planner-app/src/PlannerBoard.jsx"],"sourcesContent":["console.log(\"üöÄ PlannerBoard geladen\");\n\n\nimport React, { useState, useEffect } from \"react\";\nimport {\n  getShiftCountPerMedewerker,\n  importeerBeschikbaarheidKnop,\n  importeerLoonkostenKnop,\n} from \"./utils/plannerHelpers\";\nimport { dagMap } from \"./utils/dagen\";\nimport { exportToPDF } from \"./utils/exportToPDF\";\nimport { kleurSchema } from \"./utils/kleurSchema\";\n\nconst dagen = [\"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\", \"zo\"];\nconst shifts = [1, 2];\n\nexport default function PlannerBoard({ beschikbaarheid: beschikbaarheidProp, planning, setPlanning, onTotalLoonkostenChange }) {\n  const [medewerkers, setMedewerkers] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"medewerkers\");\n      const parsed = saved ? JSON.parse(saved) : [];\n      return Array.isArray(parsed) ? parsed.filter((m) => m && typeof m === \"object\" && m.naam) : [];\n    } catch {\n      return [];\n    }\n  });\n\n  const [beschikbaarheid, setLocalBeschikbaarheid] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"beschikbaarheid\");\n      return saved ? JSON.parse(saved) : {};\n    } catch {\n      return {};\n    }\n  });\n\n  useEffect(() => {\n    if (beschikbaarheidProp && Object.keys(beschikbaarheidProp).length > 0) {\n      setLocalBeschikbaarheid(beschikbaarheidProp);\n      localStorage.setItem(\"beschikbaarheid\", JSON.stringify(beschikbaarheidProp));\n    }\n  }, [beschikbaarheidProp]);\n\n  const [popup, setPopup] = useState(null);\n  const shiftCountPerMedewerker = getShiftCountPerMedewerker(planning);\n\n  const [loonkostenPerUur, setLoonkostenPerUur] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"loonkosten\");\n      return saved ? JSON.parse(saved) : {};\n    } catch {\n      return {};\n    }\n  });\n\n  const gestructureerdeUpdate = (prev, popup, functie, soort) => {\n    return {\n      ...prev,\n      [popup.medewerker]: {\n        ...prev[popup.medewerker],\n        [popup.dag]: {\n          ...prev[popup.medewerker]?.[popup.dag],\n          [popup.shift]: { functie, soort },\n        },\n      },\n    };\n  };\n\n  const updatePlanning = (functie, soort) => {\n    if (popup) {\n      setPlanning((prev) => {\n        const nieuwePlanning = gestructureerdeUpdate(prev, popup, functie, soort);\n        localStorage.setItem(\"planning\", JSON.stringify(nieuwePlanning));\n        return nieuwePlanning;\n      });\n      setPopup(null);\n    }\n  };\n\n  useEffect(() => {\n    let totaal = 0;\n    medewerkers.forEach((m) => {\n      dagen.forEach((dag) => {\n        shifts.forEach((shift) => {\n          const entry = planning[m.naam]?.[dag]?.[shift];\n          if (entry) {\n            let uren = 6;\n            if (entry.soort === \"standby\") uren = 4;\n            else if (entry.soort === \"laat\") uren = 4;\n\n            const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n            const uurloon = loonkostenPerUur[leeftijd] ?? 15;\n            totaal += uren * uurloon;\n          }\n        });\n      });\n    });\n\n    if (typeof onTotalLoonkostenChange === 'function') {\n      onTotalLoonkostenChange(totaal);\n    }\n  }, [planning, medewerkers]);\n\n  return (\n    <div className=\"p-4 bg-gray-100\">\n      <div className=\"flex gap-2 items-center mb-4\">\n\n        {importeerBeschikbaarheidKnop(setLocalBeschikbaarheid, setMedewerkers)}\n\n        {React.cloneElement(importeerLoonkostenKnop(setLoonkostenPerUur), {\n          className: \"bg-blue-600 text-white px-4 py-2 rounded shadow\"\n        })}\n\n        <button\n          onClick={() =>\n            exportToPDF({ medewerkers, planning, beschikbaarheid, loonkostenPerUur, shiftCountPerMedewerker })\n          }\n          className=\"bg-red-600 text-white px-4 py-2 rounded shadow\"\n        >\n          Exporteer naar PDF\n        </button>\n\n        <button\n          onClick={() => {\n            const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(planning));\n            const downloadAnchor = document.createElement('a');\n            downloadAnchor.setAttribute(\"href\", dataStr);\n            downloadAnchor.setAttribute(\"download\", \"planning-backup.json\");\n            downloadAnchor.click();\n          }}\n          className=\"bg-purple-600 text-white px-4 py-2 rounded shadow\"\n        >\n<button\n  onClick={() => {\n    [\"planning\", \"medewerkers\", \"beschikbaarheid\", \"loonkosten\"].forEach((key) => {\n      const data = localStorage.getItem(key);\n      if (data) {\n        const blob = new Blob([data], { type: \"application/json\" });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        a.href = url;\n        a.download = `${key}.json`;\n        a.click();\n      } else {\n        console.warn(`Geen data gevonden voor '${key}'`);\n      }\n    });\n  }}\n  className=\"bg-blue-500 text-white px-4 py-2 rounded\"\n>\n  üì• Exporteer lokale data\n</button>\n\n\n\n          Download planning\n        </button>\n\n        <label className=\"bg-yellow-600 text-white px-4 py-2 rounded shadow cursor-pointer\">\n          <span>Importeer planning</span>\n          <input\n            type=\"file\"\n            accept=\"application/json\"\n            onChange={(e) => {\n              const file = e.target.files[0];\n              if (file) {\n                const reader = new FileReader();\n                reader.onload = (event) => {\n                  try {\n                    const json = JSON.parse(event.target.result);\n                    setPlanning(json);\n                    localStorage.setItem(\"planning\", JSON.stringify(json));\n                  } catch {\n                    alert(\"Kon planning niet laden, controleer het bestand.\");\n                  }\n                };\n                reader.readAsText(file);\n              }\n            }}\n            className=\"hidden\"\n          />\n        </label>\n\n</div>\n\n      \n\n      {medewerkers.length > 0 && (\n        <div className=\"overflow-x-auto mb-4\">\n          <table className=\"text-xs border-collapse w-full bg-white shadow\">\n            <thead className=\"sticky top-0 bg-white z-10 shadow-sm\">\n              <tr>\n                <th className=\"border px-2 py-1 w-60 text-left\">Type</th>\n                {dagen.map((dag) =>\n                  shifts.map((shift) => (\n                    <th key={`${dag}-${shift}`} className=\"border px-2 py-1 text-center\" style={{ borderLeftWidth: shift === 1 ? '2px' : undefined }}>\n                      {dag} {shift}\n                    </th>\n                  ))\n                )}\n              </tr>\n            </thead>\n            <tbody>\n              \n              <tr>\n                <td className=\"border px-2 py-1 font-semibold bg-gray-100\">Totaal ingepland</td>\n                {dagen.map((dag) =>\n                  shifts.map((shift) => {\n                    const totaal = medewerkers.filter((m) => {\n                      const entry = planning[m.naam]?.[dag]?.[shift];\n                      return entry?.functie === \"ijsbereider\" || entry?.functie === \"ijsvoorbereider\" || entry?.functie === \"schepper\";\n                    }).length;\n                    return (\n                      <td\n                        key={`Totaal-${dag}-${shift}`}\n                        className=\"border px-2 py-1 text-center bg-gray-50 font-semibold\"\n                        style={{ borderLeftWidth: shift === 1 ? '2px' : undefined }}\n                      >\n                        {totaal}\n                      </td>\n                    );\n                  })\n                )}\n              </tr>\n\n{[\"Bereiders\", \"Voorbereiders\", \"Scheppers\", \"Kosten\"].map((type) => (\n                <tr key={type}>\n                  <td className=\"border px-2 py-1 font-semibold\">{type}</td>\n                  {dagen.map((dag) =>\n                    shifts.map((shift) => {\n                      let value = 0;\n                      if (type === \"Kosten\") {\n                        value = medewerkers.reduce((totaal, m) => {\n                          const entry = planning[m.naam]?.[dag]?.[shift];\n                          if (!entry) return totaal;\n                          let uren = 6;\n                          if (entry.soort === \"standby\") uren = 4;\n                          else if (entry.soort === \"laat\") uren = 4;\n\n                          const leeftijd = typeof m.leeftijd === \"number\" ? m.leeftijd : 18;\n                          const uurloon = loonkostenPerUur[leeftijd] ?? 15;\n                          return totaal + uren * uurloon;\n                        }, 0);\n                      } else {\n                        const functieMap = {\n                          Bereiders: \"ijsbereider\",\n                          Voorbereiders: \"ijsvoorbereider\",\n                          Scheppers: \"schepper\",\n                        };\n                        const functie = functieMap[type];\n                        value = medewerkers.filter(\n                          (m) => planning[m.naam]?.[dag]?.[shift]?.functie === functie\n                        ).length;\n                      }\n                      return (\n                        <td key={`${type}-${dag}-${shift}`} className=\"border px-2 py-1 text-center\" style={{ borderLeftWidth: shift === 1 ? '2px' : undefined }}>\n                          {type === \"Kosten\" ? `‚Ç¨ ${Math.round(value)}` : value}\n                        </td>\n                      );\n                    })\n                  )}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Medewerkerplanning */}\n      {medewerkers.length > 0 && (\n        <table className=\"table-fixed border w-full bg-white text-xs font-sans\">\n          <thead>\n            <tr>\n              <th className=\"border px-4 py-2 text-left w-60\">Naam</th>\n              {dagen.map((dag) =>\n                shifts.map((shift) => (\n                  <th key={`${dag}-${shift}`} className=\"border px-2 py-1 text-center\">\n                    {dag} {shift}\n                  </th>\n                ))\n              )}\n            </tr>\n          </thead>\n          ...\n          <tbody>\n  {medewerkers.map((m) => {\n    const naamKey = m.naam.trim().toLowerCase();\n\n    return (\n      <tr key={m.naam}>\n       <td\n  className={`border px-4 py-2 text-left whitespace-nowrap w-60 font-bold ${\n    (shiftCountPerMedewerker[m.naam] || 0) > (m.maxShifts ?? Infinity)\n      ? \"bg-red-200\"\n      : (shiftCountPerMedewerker[m.naam] || 0) < (m.maxShifts ?? 0)\n      ? \"bg-yellow-200\"\n      : \"\"\n  }`}\n  title={m.opmerking || \"\"}\n>\n  <span className=\"flex items-center gap-1\">\n    {m.naam.split(\" \").map((part, i) =>\n      i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)\n    ).join(\" \")} [{m.leeftijd ?? \"?\"}] ({shiftCountPerMedewerker[m.naam] || 0}/{m.maxShifts ?? \"?\"})\n    {m.opmerking && (\n      <span\n        className=\"text-red-600 text-sm\"\n        title={m.opmerking}\n      >\n        üìå\n      </span>\n    )}\n  </span>\n</td>\n\n        {dagen.map((dag) =>\n          shifts.map((shift) => {\n            const entry = planning[m.naam]?.[dag]?.[shift];\n            const beschikbaar = beschikbaarheid?.[naamKey]?.[dagMap[dag]]?.[shift];\n\n            let text = \"\";\n            let bgColor = \"#ffffff\";\n            let color = \"#000000\";\n\n            if (entry) {\n              const kleur = kleurSchema[entry.functie]?.[entry.soort];\n              bgColor = kleur?.hex || \"#ffffff\";\n              color = kleur?.tailwind.includes(\"text-white\") ? \"#ffffff\" : \"#000000\";\n              const labelMap = {\n                schepper: { vast: \"schep\", standby: \"schep(s)\", laat: \"schep(l)\" },\n                ijsbereider: { vast: \"bereider\", standby: \"bereider(s)\", laat: \"bereider(l)\" },\n                ijsvoorbereider: { vast: \"prep\", standby: \"prep(s)\", laat: \"prep(l)\" },\n              };\n              text = labelMap[entry.functie]?.[entry.soort] || `${entry.functie} (${entry.soort})`;\n            } else if (beschikbaar) {\n              const kleur = kleurSchema.beschikbaar;\n              bgColor = kleur.hex;\n              color = kleur.tailwind.includes(\"text-white\") ? \"#ffffff\" : \"#000000\";\n              text = \"‚úì\";\n            }\n           \n            return (\n              <td\n                key={`${m.naam}-${dag}-${shift}`}\n                className=\"border text-center cursor-pointer\"\n                style={{\n                  borderLeftWidth: shift === 1 ? '2px' : undefined,\n                  backgroundColor: (shift === 1 && !text) ? '#FFFBEB' : (shift === 2 && !text ? '#F0F9FF' : bgColor),\n                  color,\n                  fontWeight: \"bold\"\n                }}\n                title={`Shift ${shift} op ${dagMap[dag]}`}\n                onClick={() => {\n                  const entry = planning[m.naam]?.[dag]?.[shift];\n                  if (entry) {\n                    setPlanning((prev) => {\n                      const nieuw = { ...prev };\n                      delete nieuw[m.naam][dag][shift];\n                      if (Object.keys(nieuw[m.naam][dag]).length === 0) delete nieuw[m.naam][dag];\n                      if (Object.keys(nieuw[m.naam]).length === 0) delete nieuw[m.naam];\n                      localStorage.setItem(\"planning\", JSON.stringify(nieuw));\n                      return nieuw;\n                    });\n                  } else {\n                    setPopup({ medewerker: m.naam, dag, shift });\n                  }\n                }}\n              >\n                {text}\n              </td>\n            );\n          })\n        )}\n      </tr>\n    );\n  })}\n</tbody>\n        </table>\n      )}\n\n      {popup && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-4 rounded shadow-md w-[400px]\">\n            <h2 className=\"font-bold mb-4 text-center\">\n              {popup.medewerker} - {popup.dag} Shift {popup.shift}\n            </h2>\n            <div className=\"grid grid-cols-3 gap-2\">\n              {[\"ijsbereider\", \"ijsvoorbereider\", \"schepper\"].map((functie) =>\n                [\"vast\", \"standby\", \"laat\"].map((soort) => (\n                  <button\n                    key={`${functie}-${soort}`}\n                    className={`${kleurSchema[functie][soort].tailwind} px-3 py-2 rounded font-medium text-sm`}\n                    onClick={() => updatePlanning(functie, soort)}\n                  >\n                    {soort === \"standby\" ? `‚è±Ô∏è ${functie}` : soort === \"laat\" ? `üåô ${functie}` : functie}\n                  </button>\n                ))\n              )}\n            </div>\n            <div className=\"mt-4 text-center\">\n              <button onClick={() => setPopup(null)} className=\"text-gray-600 text-sm underline\">\n                Annuleren\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}