{"ast":null,"code":"var _doc$lastAutoTable$fi,_doc$lastAutoTable;import jsPDF from\"jspdf\";import autoTable from\"jspdf-autotable\";import{dagMap}from\"./dagen\";const dagen=[\"ma\",\"di\",\"wo\",\"do\",\"vr\",\"za\",\"zo\"];const shifts=[1,2];const buildPdfBody=(medewerkers,planning,beschikbaarheid,shiftCountPerMedewerker)=>{const body=[];medewerkers.forEach(m=>{var _m$maxShifts,_m$leeftijd;const naam=m.naam;const count=shiftCountPerMedewerker[naam]||0;const max=(_m$maxShifts=m.maxShifts)!==null&&_m$maxShifts!==void 0?_m$maxShifts:\"?\";const leeftijd=(_m$leeftijd=m.leeftijd)!==null&&_m$leeftijd!==void 0?_m$leeftijd:\"?\";const row={Naam:`${naam.split(\" \").map((part,i)=>i===0?part:part.charAt(0).toUpperCase()+part.slice(1)).join(\" \")} [${leeftijd}] (${count}/${max})`};dagen.forEach(dag=>{shifts.forEach(shift=>{var _planning$naam,_planning$naam$dag,_beschikbaarheid$naam,_beschikbaarheid$naam2;const key=`${dag} ${shift}`;const entry=(_planning$naam=planning[naam])===null||_planning$naam===void 0?void 0:(_planning$naam$dag=_planning$naam[dag])===null||_planning$naam$dag===void 0?void 0:_planning$naam$dag[shift];const naamKey=naam===null||naam===void 0?void 0:naam.toLowerCase();const beschikbaar=beschikbaarheid===null||beschikbaarheid===void 0?void 0:(_beschikbaarheid$naam=beschikbaarheid[naamKey])===null||_beschikbaarheid$naam===void 0?void 0:(_beschikbaarheid$naam2=_beschikbaarheid$naam[dagMap[dag]])===null||_beschikbaarheid$naam2===void 0?void 0:_beschikbaarheid$naam2[shift];if(entry){var _labelMap$entry$funct;const labelMap={schepper:{vast:\"schep\",standby:\"schep(s)\",laat:\"schep(l)\"},ijsbereider:{vast:\"bereider\",standby:\"bereider(s)\",laat:\"bereider(l)\"},ijsvoorbereider:{vast:\"prep\",standby:\"prep(s)\",laat:\"prep(l)\"}};row[key]=((_labelMap$entry$funct=labelMap[entry.functie])===null||_labelMap$entry$funct===void 0?void 0:_labelMap$entry$funct[entry.soort])||`${entry.functie} (${entry.soort})`;}else if(beschikbaar){row[key]=\"âœ“\";}else{row[key]=\"\";}});});body.push(row);});return body;};export const exportToPDF=_ref=>{let{medewerkers,planning,beschikbaarheid,loonkostenPerUur,shiftCountPerMedewerker}=_ref;const doc=new jsPDF({orientation:\"landscape\",format:\"a4\"});const vandaag=new Date();const datumStr=vandaag.toLocaleDateString(\"nl-NL\");const weekNr=getWeekNumber(vandaag);doc.setFontSize(16);doc.text(`Beschikbaarheid ijssalon Vincenzo â€“ versie (${datumStr})`,14,12);const pageWidth=doc.internal.pageSize.getWidth();const margin=20;const tableColumn=[\"Naam\",...dagen.flatMap(dag=>shifts.map(shift=>`${dag} ${shift}`))];const body=buildPdfBody(medewerkers,planning,beschikbaarheid,shiftCountPerMedewerker);autoTable(doc,{startY:20,tableWidth:pageWidth-margin,columns:tableColumn.map(key=>({header:key,dataKey:key})),body,styles:{fontSize:8,cellPadding:2,halign:\"center\",valign:\"middle\",lineWidth:0.1,lineColor:[0,0,0]},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:\"bold\"},columnStyles:{Naam:{halign:\"left\",cellWidth:60}},didParseCell(data){const colKey=data.column.dataKey;const rawText=typeof data.cell.raw===\"string\"?data.cell.raw:\"\";const val=rawText.toLowerCase().trim();const kleuren={\"bereider\":[30,58,138],\"bereider(s)\":[96,165,250],\"bereider(l)\":[167,139,250],\"prep\":[191,219,254],\"prep(s)\":[219,234,254],\"prep(l)\":[196,181,253],\"schep\":[250,204,21],\"schep(s)\":[254,240,138],\"schep(l)\":[243,244,246],\"âœ“\":[144,238,144]};if(kleuren[val]){data.cell.styles.fillColor=kleuren[val];const donkereWaarden=[\"bereider\",\"bereider(l)\"];if(donkereWaarden.includes(val)){data.cell.styles.textColor=[255,255,255];// wit\n}else if(val===\"âœ“\"){data.cell.styles.textColor=kleuren[val];// onzichtbaar\n}else{data.cell.styles.textColor=[0,0,0];// standaard zwart\n}}// âœ… Kleuring voor over-/onderplanning in NAAM-kolom\nif(colKey===\"Naam\"){const match=rawText.match(/\\((\\d+)[\\/](\\d+)\\)/);// vang (3/4)\nif(match){const count=parseInt(match[1]);const max=parseInt(match[2]);if(count>max){data.cell.styles.fillColor=[254,202,202];// rood (bg-red-200)\n}else if(count<max){data.cell.styles.fillColor=[254,243,199];// geel (bg-yellow-200)\n}}}}});addLoonkostenTabel(doc,medewerkers,planning,loonkostenPerUur);let laatsteY=addLegenda(doc);laatsteY=addOpmerkingenOnderLegenda(doc,medewerkers,beschikbaarheid,laatsteY);// check voor pagina-overloop\nif(laatsteY>doc.internal.pageSize.getHeight()-20){doc.addPage();laatsteY=20;}// âœ… Totaal loonkosten berekenen\nconst totaalLoonkosten=medewerkers.reduce((totaal,m)=>{var _loonkostenPerUur$m$l;const uurloon=(_loonkostenPerUur$m$l=loonkostenPerUur[m.leeftijd])!==null&&_loonkostenPerUur$m$l!==void 0?_loonkostenPerUur$m$l:15;return totaal+dagen.reduce((dagTotaal,dag)=>{return dagTotaal+shifts.reduce((shiftTotaal,shift)=>{var _planning$m$naam,_planning$m$naam$dag;const entry=(_planning$m$naam=planning[m.naam])===null||_planning$m$naam===void 0?void 0:(_planning$m$naam$dag=_planning$m$naam[dag])===null||_planning$m$naam$dag===void 0?void 0:_planning$m$naam$dag[shift];if(!entry)return shiftTotaal;let uren=6;if(entry.soort===\"standby\")uren=4;else if(entry.soort===\"laat\")uren=4;return shiftTotaal+uren*uurloon;},0);},0);},0);doc.setFontSize(12);doc.setTextColor(40);doc.setFont(undefined,\"bold\");const safeDatum=datumStr.replace(/-/g,'_');doc.save(`planning_week_${weekNr}_${safeDatum}.pdf`);};function addLoonkostenTabel(doc,medewerkers,planning,loonkostenPerUur){const kolommen=[\"Dag\",...dagen.flatMap(dag=>shifts.map(s=>`${dag} shift ${s}`))];const loonkostenPerShift={};const telling={ijsbereider:{},ijsvoorbereider:{},schepper:{}};dagen.forEach(dag=>{shifts.forEach(shift=>{const key=`${dag} shift ${shift}`;loonkostenPerShift[key]=0;telling.ijsbereider[key]=0;telling.ijsvoorbereider[key]=0;telling.schepper[key]=0;medewerkers.forEach(m=>{var _planning$m$naam2,_planning$m$naam2$dag;const entry=(_planning$m$naam2=planning[m.naam])===null||_planning$m$naam2===void 0?void 0:(_planning$m$naam2$dag=_planning$m$naam2[dag])===null||_planning$m$naam2$dag===void 0?void 0:_planning$m$naam2$dag[shift];if(entry){var _loonkostenPerUur$m$l2;let uren=6;if(entry.soort===\"standby\")uren=4;else if(entry.soort===\"laat\")uren=4;const uurloon=(_loonkostenPerUur$m$l2=loonkostenPerUur[m.leeftijd])!==null&&_loonkostenPerUur$m$l2!==void 0?_loonkostenPerUur$m$l2:15;loonkostenPerShift[key]+=uren*uurloon;if(telling[entry.functie])telling[entry.functie][key]++;}});});});const body=[[\"Loonkosten\",...kolommen.slice(1).map(key=>`â‚¬ ${Math.round(loonkostenPerShift[key]||0)}`)],[\"Bereiders\",...kolommen.slice(1).map(key=>telling.ijsbereider[key]||0)],[\"Voorbereiders\",...kolommen.slice(1).map(key=>telling.ijsvoorbereider[key]||0)],[\"Scheppers\",...kolommen.slice(1).map(key=>telling.schepper[key]||0)],[\"Totaal\",...kolommen.slice(1).map(key=>{const a=telling.ijsbereider[key]||0;const b=telling.ijsvoorbereider[key]||0;const c=telling.schepper[key]||0;return a+b+c;})]];const startY=doc.lastAutoTable.finalY+20;autoTable(doc,{startY,head:[kolommen],body,styles:{fontSize:8,halign:'center',valign:'middle',cellPadding:2,lineWidth:0.1,lineColor:[0,0,0]},headStyles:{fillColor:[100,149,237],textColor:255},columnStyles:{0:{fontStyle:'bold',halign:'left'}}});}const loonkostenTekst=`Totale loonkosten deze week: â‚¬${totaalLoonkosten.toFixed(2)}`;doc.setFontSize(12);doc.setTextColor(40);doc.setFont(undefined,\"bold\");const yNaHoofdtabel=((_doc$lastAutoTable$fi=(_doc$lastAutoTable=doc.lastAutoTable)===null||_doc$lastAutoTable===void 0?void 0:_doc$lastAutoTable.finalY)!==null&&_doc$lastAutoTable$fi!==void 0?_doc$lastAutoTable$fi:30)+10;doc.text(loonkostenTekst,14,yNaHoofdtabel);function addLegenda(doc){var _doc$lastAutoTable2;const functies=[[{kleur:[30,58,138],label:\"Bereider\"},{kleur:[96,165,250],label:\"Bereider(s)\"},{kleur:[167,139,250],label:\"Bereider(l)\"}],[{kleur:[191,219,254],label:\"Prep\"},{kleur:[219,234,254],label:\"Prep(s)\"},{kleur:[196,181,253],label:\"Prep(l)\"}],[{kleur:[250,204,21],label:\"Schep\"},{kleur:[254,240,138],label:\"Schep(s)\"},{kleur:[243,244,246],label:\"Schep(l)\"}]];const beschikbaar={kleur:[144,238,144],label:\"Beschikbaar\"};const kolombreedte=70;const rijenPerKolom=functies[0].length;const totaalHoogte=rijenPerKolom*7+10+10;// legenda + kopje + beschikbaar\nlet startY=((_doc$lastAutoTable2=doc.lastAutoTable)===null||_doc$lastAutoTable2===void 0?void 0:_doc$lastAutoTable2.finalY)+10||160;// âœ… Als niet alles past, voeg een pagina toe\nconst ruimteNodig=startY+totaalHoogte;if(ruimteNodig>doc.internal.pageSize.getHeight()-20){doc.addPage();startY=20;}doc.setFontSize(8);doc.text(\"Legenda:\",40,startY);const kolomX=[40,40+kolombreedte,40+kolombreedte*2];for(let i=0;i<3;i++){functies[i].forEach((item,j)=>{const x=kolomX[i];const y=startY+10+j*7;doc.setFillColor(...item.kleur);doc.rect(x,y-5,5,5,\"F\");doc.text(item.label,x+8,y);});}const beschikbaarY=startY+10+rijenPerKolom*7+5;doc.setFillColor(...beschikbaar.kleur);doc.rect(40,beschikbaarY-5,5,5,\"F\");doc.text(beschikbaar.label,48,beschikbaarY);return beschikbaarY+10;// voor volgende blok\n}function getWeekNumber(date){const temp=new Date(date.getTime());temp.setHours(0,0,0,0);temp.setDate(temp.getDate()+3-(temp.getDay()+6)%7);const week1=new Date(temp.getFullYear(),0,4);return 1+Math.round(((temp.getTime()-week1.getTime())/86400000-3+(week1.getDay()+6)%7)/7);}function addOpmerkingenOnderLegenda(doc,medewerkers,beschikbaarheid,startY){const opmerkingen=medewerkers.map(m=>{var _beschikbaarheid$naam3,_beschikbaarheid$naam4;const naamKey=m.naam.toLowerCase();const opmerking=beschikbaarheid===null||beschikbaarheid===void 0?void 0:(_beschikbaarheid$naam3=beschikbaarheid[naamKey])===null||_beschikbaarheid$naam3===void 0?void 0:(_beschikbaarheid$naam4=_beschikbaarheid$naam3.opmerking)===null||_beschikbaarheid$naam4===void 0?void 0:_beschikbaarheid$naam4.trim();if(opmerking){return`â€¢ ${m.naam}: ${opmerking}`;}return null;}).filter(Boolean);if(opmerkingen.length===0)return startY;const ruimteNodig=opmerkingen.length*6+16;if(startY+ruimteNodig>doc.internal.pageSize.getHeight()-20){doc.addPage();startY=20;}// ðŸ§¼ Styling\nconst margeLinks=20;const regelhoogte=6;doc.setFontSize(9);doc.setTextColor(33,37,41);// donkergrijs\ndoc.setFont(undefined,\"bold\");doc.text(\"Opmerkingen:\",margeLinks,startY+10);doc.setFont(undefined,\"normal\");opmerkingen.forEach((regel,i)=>{doc.text(regel,margeLinks+4,startY+16+i*regelhoogte);});return startY+ruimteNodig;}","map":{"version":3,"names":["jsPDF","autoTable","dagMap","dagen","shifts","buildPdfBody","medewerkers","planning","beschikbaarheid","shiftCountPerMedewerker","body","forEach","m","_m$maxShifts","_m$leeftijd","naam","count","max","maxShifts","leeftijd","row","Naam","split","map","part","i","charAt","toUpperCase","slice","join","dag","shift","_planning$naam","_planning$naam$dag","_beschikbaarheid$naam","_beschikbaarheid$naam2","key","entry","naamKey","toLowerCase","beschikbaar","_labelMap$entry$funct","labelMap","schepper","vast","standby","laat","ijsbereider","ijsvoorbereider","functie","soort","push","exportToPDF","_ref","loonkostenPerUur","doc","orientation","format","vandaag","Date","datumStr","toLocaleDateString","weekNr","getWeekNumber","setFontSize","text","pageWidth","internal","pageSize","getWidth","margin","tableColumn","flatMap","startY","tableWidth","columns","header","dataKey","styles","fontSize","cellPadding","halign","valign","lineWidth","lineColor","headStyles","fillColor","textColor","fontStyle","columnStyles","cellWidth","didParseCell","data","colKey","column","rawText","cell","raw","val","trim","kleuren","donkereWaarden","includes","match","parseInt","addLoonkostenTabel","laatsteY","addLegenda","addOpmerkingenOnderLegenda","getHeight","addPage","totaalLoonkosten","reduce","totaal","_loonkostenPerUur$m$l","uurloon","dagTotaal","shiftTotaal","_planning$m$naam","_planning$m$naam$dag","uren","setTextColor","setFont","undefined","safeDatum","replace","save","kolommen","s","loonkostenPerShift","telling","_planning$m$naam2","_planning$m$naam2$dag","_loonkostenPerUur$m$l2","Math","round","a","b","c","lastAutoTable","finalY","head","loonkostenTekst","toFixed","yNaHoofdtabel","_doc$lastAutoTable$fi","_doc$lastAutoTable","_doc$lastAutoTable2","functies","kleur","label","kolombreedte","rijenPerKolom","length","totaalHoogte","ruimteNodig","kolomX","item","j","x","y","setFillColor","rect","beschikbaarY","date","temp","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","opmerkingen","_beschikbaarheid$naam3","_beschikbaarheid$naam4","opmerking","filter","Boolean","margeLinks","regelhoogte","regel"],"sources":["C:/Users/van den Akker/planner/planner-app/src/utils/exportToPDF.js"],"sourcesContent":["import jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport { dagMap } from \"./dagen\";\r\n\r\nconst dagen = [\"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\", \"zo\"];\r\nconst shifts = [1, 2];\r\n\r\nconst buildPdfBody = (medewerkers, planning, beschikbaarheid, shiftCountPerMedewerker) => {\r\n  const body = [];\r\n\r\n  medewerkers.forEach((m) => {\r\n    const naam = m.naam;\r\n    const count = shiftCountPerMedewerker[naam] || 0;\r\n    const max = m.maxShifts ?? \"?\";\r\n    const leeftijd = m.leeftijd ?? \"?\";\r\n\r\n    const row = {\r\n      Naam: `${naam.split(\" \").map((part, i) =>\r\n        i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)\r\n      ).join(\" \")} [${leeftijd}] (${count}/${max})`\r\n    };\r\n\r\n    dagen.forEach((dag) => {\r\n      shifts.forEach((shift) => {\r\n        const key = `${dag} ${shift}`;\r\n        const entry = planning[naam]?.[dag]?.[shift];\r\n        const naamKey = naam?.toLowerCase();\r\n        const beschikbaar = beschikbaarheid?.[naamKey]?.[dagMap[dag]]?.[shift];\r\n\r\n        if (entry) {\r\n          const labelMap = {\r\n            schepper: { vast: \"schep\", standby: \"schep(s)\", laat: \"schep(l)\" },\r\n            ijsbereider: { vast: \"bereider\", standby: \"bereider(s)\", laat: \"bereider(l)\" },\r\n            ijsvoorbereider: { vast: \"prep\", standby: \"prep(s)\", laat: \"prep(l)\" },\r\n          };\r\n          row[key] = labelMap[entry.functie]?.[entry.soort] || `${entry.functie} (${entry.soort})`;\r\n        } else if (beschikbaar) {\r\n          row[key] = \"âœ“\";\r\n        } else {\r\n          row[key] = \"\";\r\n        }\r\n      });\r\n    });\r\n\r\n    body.push(row);\r\n  });\r\n\r\n  return body;\r\n};\r\n\r\nexport const exportToPDF = ({ medewerkers, planning, beschikbaarheid, loonkostenPerUur, shiftCountPerMedewerker }) => {\r\n  const doc = new jsPDF({ orientation: \"landscape\", format: \"a4\" });\r\n  const vandaag = new Date();\r\nconst datumStr = vandaag.toLocaleDateString(\"nl-NL\");\r\nconst weekNr = getWeekNumber(vandaag);\r\ndoc.setFontSize(16);\r\ndoc.text(`Beschikbaarheid ijssalon Vincenzo â€“ versie (${datumStr})`, 14, 12);\r\n  const pageWidth = doc.internal.pageSize.getWidth();\r\n  const margin = 20;\r\n\r\n  const tableColumn = [\"Naam\", ...dagen.flatMap((dag) => shifts.map((shift) => `${dag} ${shift}`))];\r\n  const body = buildPdfBody(medewerkers, planning, beschikbaarheid, shiftCountPerMedewerker);\r\n\r\n  autoTable(doc, {\r\n    startY: 20,\r\n    tableWidth: pageWidth - margin,\r\n    columns: tableColumn.map((key) => ({ header: key, dataKey: key })),\r\n    body,\r\n    styles: {\r\n      fontSize: 8,\r\n      cellPadding: 2,\r\n      halign: \"center\",\r\n      valign: \"middle\",\r\n      lineWidth: 0.1,\r\n      lineColor: [0, 0, 0],\r\n    },\r\n    headStyles: {\r\n      fillColor: [41, 128, 185],\r\n      textColor: [255, 255, 255],\r\n      fontStyle: \"bold\",\r\n    },\r\n    columnStyles: {\r\n      Naam: { halign: \"left\", cellWidth: 60 },\r\n    },\r\n    didParseCell(data) {\r\n        const colKey = data.column.dataKey;\r\n        const rawText = typeof data.cell.raw === \"string\" ? data.cell.raw : \"\";\r\n        const val = rawText.toLowerCase().trim();\r\n      \r\n        const kleuren = {\r\n          \"bereider\": [30, 58, 138],\r\n          \"bereider(s)\": [96, 165, 250],\r\n          \"bereider(l)\": [167, 139, 250],\r\n          \"prep\": [191, 219, 254],\r\n          \"prep(s)\": [219, 234, 254],\r\n          \"prep(l)\": [196, 181, 253],\r\n          \"schep\": [250, 204, 21],\r\n          \"schep(s)\": [254, 240, 138],\r\n          \"schep(l)\": [243, 244, 246],\r\n          \"âœ“\": [144, 238, 144],\r\n        };\r\n      \r\n        if (kleuren[val]) {\r\n          data.cell.styles.fillColor = kleuren[val];\r\n      \r\n          const donkereWaarden = [\"bereider\", \"bereider(l)\"];\r\n          if (donkereWaarden.includes(val)) {\r\n            data.cell.styles.textColor = [255, 255, 255]; // wit\r\n          } else if (val === \"âœ“\") {\r\n            data.cell.styles.textColor = kleuren[val]; // onzichtbaar\r\n          } else {\r\n            data.cell.styles.textColor = [0, 0, 0]; // standaard zwart\r\n          }\r\n        }\r\n      \r\n        // âœ… Kleuring voor over-/onderplanning in NAAM-kolom\r\n        if (colKey === \"Naam\") {\r\n          const match = rawText.match(/\\((\\d+)[\\/](\\d+)\\)/); // vang (3/4)\r\n          if (match) {\r\n            const count = parseInt(match[1]);\r\n            const max = parseInt(match[2]);\r\n            if (count > max) {\r\n              data.cell.styles.fillColor = [254, 202, 202]; // rood (bg-red-200)\r\n            } else if (count < max) {\r\n              data.cell.styles.fillColor = [254, 243, 199]; // geel (bg-yellow-200)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      \r\n      \r\n  });\r\n\r\n  addLoonkostenTabel(doc, medewerkers, planning, loonkostenPerUur);\r\n  let laatsteY = addLegenda(doc);\r\n\r\n  laatsteY = addOpmerkingenOnderLegenda(doc, medewerkers, beschikbaarheid, laatsteY);\r\n\r\n  // check voor pagina-overloop\r\nif (laatsteY > doc.internal.pageSize.getHeight() - 20) {\r\n    doc.addPage();\r\n    laatsteY = 20;}\r\n\r\n  // âœ… Totaal loonkosten berekenen\r\n  const totaalLoonkosten = medewerkers.reduce((totaal, m) => {\r\n    const uurloon = loonkostenPerUur[m.leeftijd] ?? 15;\r\n    return totaal + dagen.reduce((dagTotaal, dag) => {\r\n      return dagTotaal + shifts.reduce((shiftTotaal, shift) => {\r\n        const entry = planning[m.naam]?.[dag]?.[shift];\r\n        if (!entry) return shiftTotaal;\r\n        let uren = 6;\r\n        if (entry.soort === \"standby\") uren = 4;\r\n        else if (entry.soort === \"laat\") uren = 4;\r\n\r\n        return shiftTotaal + uren * uurloon;\r\n      }, 0);\r\n    }, 0);\r\n  }, 0);\r\n\r\n  doc.setFontSize(12);\r\n  doc.setTextColor(40);\r\n  doc.setFont(undefined, \"bold\");\r\n  \r\n  const safeDatum = datumStr.replace(/-/g, '_');\r\ndoc.save(`planning_week_${weekNr}_${safeDatum}.pdf`);\r\n};\r\n\r\nfunction addLoonkostenTabel(doc, medewerkers, planning, loonkostenPerUur) {\r\n  const kolommen = [\"Dag\", ...dagen.flatMap(dag => shifts.map(s => `${dag} shift ${s}`))];\r\n\r\n  const loonkostenPerShift = {};\r\n  const telling = {\r\n    ijsbereider: {},\r\n    ijsvoorbereider: {},\r\n    schepper: {}\r\n  };\r\n\r\n  dagen.forEach(dag => {\r\n    shifts.forEach(shift => {\r\n      const key = `${dag} shift ${shift}`;\r\n      loonkostenPerShift[key] = 0;\r\n      telling.ijsbereider[key] = 0;\r\n      telling.ijsvoorbereider[key] = 0;\r\n      telling.schepper[key] = 0;\r\n\r\n      medewerkers.forEach(m => {\r\n        const entry = planning[m.naam]?.[dag]?.[shift];\r\n        if (entry) {\r\n            let uren = 6;\r\n            if (entry.soort === \"standby\") uren = 4;\r\n            else if (entry.soort === \"laat\") uren = 4;\r\n          const uurloon = loonkostenPerUur[m.leeftijd] ?? 15;\r\n          loonkostenPerShift[key] += uren * uurloon;\r\n          if (telling[entry.functie]) telling[entry.functie][key]++;\r\n        }\r\n      });\r\n    });\r\n  });\r\n\r\n  const body = [\r\n    [\"Loonkosten\", ...kolommen.slice(1).map(key => `â‚¬ ${Math.round(loonkostenPerShift[key] || 0)}`)],\r\n    [\"Bereiders\", ...kolommen.slice(1).map(key => telling.ijsbereider[key] || 0)],\r\n    [\"Voorbereiders\", ...kolommen.slice(1).map(key => telling.ijsvoorbereider[key] || 0)],\r\n    [\"Scheppers\", ...kolommen.slice(1).map(key => telling.schepper[key] || 0)],\r\n        [\"Totaal\", ...kolommen.slice(1).map(key => {\r\n      const a = telling.ijsbereider[key] || 0;\r\n      const b = telling.ijsvoorbereider[key] || 0;\r\n      const c = telling.schepper[key] || 0;\r\n      return a + b + c;\r\n    })],\r\n\r\n    \r\n  ];\r\n\r\n  const startY = doc.lastAutoTable.finalY + 20;\r\n  autoTable(doc, {\r\n    startY,\r\n    head: [kolommen],\r\n    body,\r\n    styles: {\r\n      fontSize: 8,\r\n      halign: 'center',\r\n      valign: 'middle',\r\n      cellPadding: 2,\r\n      lineWidth: 0.1,\r\n      lineColor: [0, 0, 0],\r\n    },\r\n    headStyles: {\r\n      fillColor: [100, 149, 237],\r\n      textColor: 255,\r\n    },\r\n    columnStyles: { 0: { fontStyle: 'bold', halign: 'left' } },\r\n  });\r\n}\r\nconst loonkostenTekst = `Totale loonkosten deze week: â‚¬${totaalLoonkosten.toFixed(2)}`;\r\ndoc.setFontSize(12);\r\ndoc.setTextColor(40);\r\ndoc.setFont(undefined, \"bold\");\r\nconst yNaHoofdtabel = (doc.lastAutoTable?.finalY ?? 30) + 10;\r\ndoc.text(loonkostenTekst, 14, yNaHoofdtabel);\r\n\r\n\r\nfunction addLegenda(doc) {\r\n  const functies = [\r\n    [\r\n      { kleur: [30, 58, 138], label: \"Bereider\" },\r\n      { kleur: [96, 165, 250], label: \"Bereider(s)\" },\r\n      { kleur: [167, 139, 250], label: \"Bereider(l)\" },\r\n    ],\r\n    [\r\n      { kleur: [191, 219, 254], label: \"Prep\" },\r\n      { kleur: [219, 234, 254], label: \"Prep(s)\" },\r\n      { kleur: [196, 181, 253], label: \"Prep(l)\" },\r\n    ],\r\n    [\r\n      { kleur: [250, 204, 21], label: \"Schep\" },\r\n      { kleur: [254, 240, 138], label: \"Schep(s)\" },\r\n      { kleur: [243, 244, 246], label: \"Schep(l)\" },\r\n    ],\r\n  ];\r\n\r\n  const beschikbaar = { kleur: [144, 238, 144], label: \"Beschikbaar\" };\r\n\r\n  const kolombreedte = 70;\r\n  const rijenPerKolom = functies[0].length;\r\n  const totaalHoogte = rijenPerKolom * 7 + 10 + 10; // legenda + kopje + beschikbaar\r\n\r\n  let startY = doc.lastAutoTable?.finalY + 10 || 160;\r\n\r\n  // âœ… Als niet alles past, voeg een pagina toe\r\n  const ruimteNodig = startY + totaalHoogte;\r\n  if (ruimteNodig > doc.internal.pageSize.getHeight() - 20) {\r\n    doc.addPage();\r\n    startY = 20;\r\n  }\r\n\r\n  doc.setFontSize(8);\r\n  doc.text(\"Legenda:\", 40, startY);\r\n\r\n  const kolomX = [40, 40 + kolombreedte, 40 + kolombreedte * 2];\r\n\r\n  for (let i = 0; i < 3; i++) {\r\n    functies[i].forEach((item, j) => {\r\n      const x = kolomX[i];\r\n      const y = startY + 10 + j * 7;\r\n      doc.setFillColor(...item.kleur);\r\n      doc.rect(x, y - 5, 5, 5, \"F\");\r\n      doc.text(item.label, x + 8, y);\r\n    });\r\n  }\r\n\r\n  const beschikbaarY = startY + 10 + rijenPerKolom * 7 + 5;\r\n  doc.setFillColor(...beschikbaar.kleur);\r\n  doc.rect(40, beschikbaarY - 5, 5, 5, \"F\");\r\n  doc.text(beschikbaar.label, 48, beschikbaarY);\r\n\r\n  return beschikbaarY + 10; // voor volgende blok\r\n}\r\n\r\n  \r\n  function getWeekNumber(date) {\r\n    const temp = new Date(date.getTime());\r\n    temp.setHours(0, 0, 0, 0);\r\n    temp.setDate(temp.getDate() + 3 - ((temp.getDay() + 6) % 7));\r\n    const week1 = new Date(temp.getFullYear(), 0, 4);\r\n    return 1 + Math.round(((temp.getTime() - week1.getTime()) / 86400000 - 3 + ((week1.getDay() + 6) % 7)) / 7);\r\n  }\r\n  \r\n  function addOpmerkingenOnderLegenda(doc, medewerkers, beschikbaarheid, startY) {\r\n    const opmerkingen = medewerkers\r\n      .map((m) => {\r\n        const naamKey = m.naam.toLowerCase();\r\n        const opmerking = beschikbaarheid?.[naamKey]?.opmerking?.trim();\r\n        if (opmerking) {\r\n          return `â€¢ ${m.naam}: ${opmerking}`;\r\n        }\r\n        return null;\r\n      })\r\n      .filter(Boolean);\r\n  \r\n    if (opmerkingen.length === 0) return startY;\r\n  \r\n    const ruimteNodig = opmerkingen.length * 6 + 16;\r\n    if (startY + ruimteNodig > doc.internal.pageSize.getHeight() - 20) {\r\n      doc.addPage();\r\n      startY = 20;\r\n    }\r\n  \r\n    // ðŸ§¼ Styling\r\n    const margeLinks = 20;\r\n    const regelhoogte = 6;\r\n  \r\n    doc.setFontSize(9);\r\n    doc.setTextColor(33, 37, 41); // donkergrijs\r\n    doc.setFont(undefined, \"bold\");\r\n    doc.text(\"Opmerkingen:\", margeLinks, startY + 10);\r\n  \r\n    doc.setFont(undefined, \"normal\");\r\n    opmerkingen.forEach((regel, i) => {\r\n      doc.text(regel, margeLinks + 4, startY + 16 + i * regelhoogte);\r\n    });\r\n  \r\n    return startY + ruimteNodig;\r\n  }\r\n\r\n   \r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}