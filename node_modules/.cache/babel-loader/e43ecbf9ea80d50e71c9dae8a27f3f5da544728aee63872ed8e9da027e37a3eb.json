{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\van den Akker\\\\planner\\\\planner-app\\\\src\\\\PlannerBoard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport { getShiftCountPerMedewerker, importeerBeschikbaarheidKnop, importeerLoonkostenKnop } from \"./utils/plannerHelpers\";\nimport { dagMap } from \"./utils/dagen\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dagen = [\"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\", \"zo\"];\nconst shifts = [1, 2];\nexport default function PlannerBoard({\n  beschikbaarheid: beschikbaarheidProp,\n  planning,\n  setPlanning,\n  onTotalLoonkostenChange\n}) {\n  _s();\n  const [medewerkers, setMedewerkers] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"medewerkers\");\n      const parsed = saved ? JSON.parse(saved) : [];\n      return Array.isArray(parsed) ? parsed.filter(m => m && typeof m === \"object\" && m.naam) : [];\n    } catch {\n      return [];\n    }\n  });\n  const [beschikbaarheid, setLocalBeschikbaarheid] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"beschikbaarheid\");\n      return saved ? JSON.parse(saved) : {};\n    } catch {\n      return {};\n    }\n  });\n  useEffect(() => {\n    if (beschikbaarheidProp && Object.keys(beschikbaarheidProp).length > 0) {\n      setLocalBeschikbaarheid(beschikbaarheidProp);\n      localStorage.setItem(\"beschikbaarheid\", JSON.stringify(beschikbaarheidProp));\n    }\n  }, [beschikbaarheidProp]);\n  const [popup, setPopup] = useState(null);\n  const shiftCountPerMedewerker = getShiftCountPerMedewerker(planning);\n  const [loonkostenPerUur, setLoonkostenPerUur] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"loonkosten\");\n      return saved ? JSON.parse(saved) : {};\n    } catch {\n      return {};\n    }\n  });\n  const gestructureerdeUpdate = (prev, popup, functie, soort) => {\n    var _prev$popup$medewerke;\n    return {\n      ...prev,\n      [popup.medewerker]: {\n        ...prev[popup.medewerker],\n        [popup.dag]: {\n          ...((_prev$popup$medewerke = prev[popup.medewerker]) === null || _prev$popup$medewerke === void 0 ? void 0 : _prev$popup$medewerke[popup.dag]),\n          [popup.shift]: {\n            functie,\n            soort\n          }\n        }\n      }\n    };\n  };\n  const updatePlanning = (functie, soort) => {\n    if (popup) {\n      setPlanning(prev => {\n        const nieuwePlanning = gestructureerdeUpdate(prev, popup, functie, soort);\n        localStorage.setItem(\"planning\", JSON.stringify(nieuwePlanning));\n        return nieuwePlanning;\n      });\n      setPopup(null);\n    }\n  };\n  useEffect(() => {\n    let totaal = 0;\n    medewerkers.forEach(m => {\n      dagen.forEach(dag => {\n        shifts.forEach(shift => {\n          var _planning$m$naam, _planning$m$naam$dag;\n          const entry = (_planning$m$naam = planning[m.naam]) === null || _planning$m$naam === void 0 ? void 0 : (_planning$m$naam$dag = _planning$m$naam[dag]) === null || _planning$m$naam$dag === void 0 ? void 0 : _planning$m$naam$dag[shift];\n          if (entry) {\n            var _loonkostenPerUur$lee;\n            const uren = entry.soort === \"standby\" ? 4 : 6;\n            const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n            const uurloon = (_loonkostenPerUur$lee = loonkostenPerUur[leeftijd]) !== null && _loonkostenPerUur$lee !== void 0 ? _loonkostenPerUur$lee : 15;\n            totaal += uren * uurloon;\n          }\n        });\n      });\n    });\n    if (typeof onTotalLoonkostenChange === 'function') {\n      onTotalLoonkostenChange(totaal);\n    }\n  }, [planning, medewerkers]);\n  const buildPdfBody = (medewerkers, planning, beschikbaarheid, shiftCountPerMedewerker) => {\n    const body = [];\n    medewerkers.forEach(m => {\n      var _m$maxShifts, _m$leeftijd;\n      const naam = m.naam;\n      const count = shiftCountPerMedewerker[naam] || 0;\n      const max = (_m$maxShifts = m.maxShifts) !== null && _m$maxShifts !== void 0 ? _m$maxShifts : \"?\";\n      const leeftijd = (_m$leeftijd = m.leeftijd) !== null && _m$leeftijd !== void 0 ? _m$leeftijd : \"?\";\n      const row = {\n        Naam: `${naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \")} [${leeftijd}] (${count}/${max})`\n      };\n      dagen.forEach(dag => {\n        shifts.forEach(shift => {\n          var _planning$naam, _planning$naam$dag, _beschikbaarheid$naam, _beschikbaarheid$naam2;\n          const key = `${dag} ${shift}`;\n          const entry = (_planning$naam = planning[naam]) === null || _planning$naam === void 0 ? void 0 : (_planning$naam$dag = _planning$naam[dag]) === null || _planning$naam$dag === void 0 ? void 0 : _planning$naam$dag[shift];\n          const naamKey = naam === null || naam === void 0 ? void 0 : naam.toLowerCase();\n          const beschikbaar = beschikbaarheid === null || beschikbaarheid === void 0 ? void 0 : (_beschikbaarheid$naam = beschikbaarheid[naamKey]) === null || _beschikbaarheid$naam === void 0 ? void 0 : (_beschikbaarheid$naam2 = _beschikbaarheid$naam[dagMap[dag]]) === null || _beschikbaarheid$naam2 === void 0 ? void 0 : _beschikbaarheid$naam2[shift];\n          if (entry) {\n            var _labelMap$entry$funct;\n            const labelMap = {\n              \"schepper\": {\n                vast: \"schep\",\n                standby: \"schep(s)\",\n                laat: \"schep(l)\"\n              },\n              \"ijsbereider\": {\n                vast: \"bereider\",\n                standby: \"bereider(s)\",\n                laat: \"bereider(l)\"\n              },\n              \"ijsvoorbereider\": {\n                vast: \"prep\",\n                standby: \"prep(s)\",\n                laat: \"prep(l)\"\n              }\n            };\n            row[key] = ((_labelMap$entry$funct = labelMap[entry.functie]) === null || _labelMap$entry$funct === void 0 ? void 0 : _labelMap$entry$funct[entry.soort]) || `${entry.functie} (${entry.soort})`;\n          } else if (beschikbaar) {\n            row[key] = \"âœ“\";\n          } else {\n            row[key] = \"\"; // cel blijft leeg als geen entry of beschikbaarheid\n          }\n        });\n      });\n      body.push(row);\n    });\n    return body;\n  };\n  const exportToPDF = () => {\n    var _doc$lastAutoTable$fi, _doc$lastAutoTable;\n    const doc = new jsPDF({\n      orientation: \"landscape\",\n      format: \"a4\"\n    });\n    const pageWidth = doc.internal.pageSize.getWidth();\n    const margin = 20;\n    const tableColumn = [\"Naam\", ...dagen.flatMap(dag => shifts.map(shift => `${dag} ${shift}`))];\n    const body = medewerkers.map(m => {\n      var _m$maxShifts2, _m$leeftijd2;\n      const count = shiftCountPerMedewerker[m.naam] || 0;\n      const max = (_m$maxShifts2 = m.maxShifts) !== null && _m$maxShifts2 !== void 0 ? _m$maxShifts2 : \"?\";\n      const leeftijd = (_m$leeftijd2 = m.leeftijd) !== null && _m$leeftijd2 !== void 0 ? _m$leeftijd2 : \"?\";\n      const row = {\n        Naam: `${m.naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \")} [${leeftijd}] (${count}/${max})`\n      };\n      dagen.forEach(dag => {\n        shifts.forEach(shift => {\n          var _planning$m$naam2, _planning$m$naam2$dag, _m$naam, _beschikbaarheid$naam3, _beschikbaarheid$naam4;\n          const key = `${dag} ${shift}`;\n          const entry = (_planning$m$naam2 = planning[m.naam]) === null || _planning$m$naam2 === void 0 ? void 0 : (_planning$m$naam2$dag = _planning$m$naam2[dag]) === null || _planning$m$naam2$dag === void 0 ? void 0 : _planning$m$naam2$dag[shift];\n          const naamKey = (_m$naam = m.naam) === null || _m$naam === void 0 ? void 0 : _m$naam.toLowerCase();\n          const beschikbaar = beschikbaarheid === null || beschikbaarheid === void 0 ? void 0 : (_beschikbaarheid$naam3 = beschikbaarheid[naamKey]) === null || _beschikbaarheid$naam3 === void 0 ? void 0 : (_beschikbaarheid$naam4 = _beschikbaarheid$naam3[dagMap[dag]]) === null || _beschikbaarheid$naam4 === void 0 ? void 0 : _beschikbaarheid$naam4[shift];\n          if (entry) {\n            var _labelMap$entry$funct2;\n            const labelMap = {\n              \"schepper\": {\n                vast: \"schep\",\n                standby: \"schep(s)\",\n                laat: \"schep(l)\"\n              },\n              \"ijsbereider\": {\n                vast: \"bereider\",\n                standby: \"bereider(s)\",\n                laat: \"bereider(l)\"\n              },\n              \"ijsvoorbereider\": {\n                vast: \"prep\",\n                standby: \"prep(s)\",\n                laat: \"prep(l)\"\n              }\n            };\n            const label = (_labelMap$entry$funct2 = labelMap[entry.functie]) === null || _labelMap$entry$funct2 === void 0 ? void 0 : _labelMap$entry$funct2[entry.soort];\n            row[key] = label || `${entry.functie} (${entry.soort})`;\n          } else if (beschikbaar) {\n            row[key] = \"âœ“\";\n          } else {\n            row[key] = \"\";\n          }\n        });\n      });\n      return row;\n    });\n    autoTable(doc, {\n      startY: 20,\n      tableWidth: pageWidth - margin,\n      head: [tableColumn],\n      // âœ… Dit zorgt dat didDrawCell goed werkt\n      body: body,\n      styles: {\n        fontSize: 7,\n        cellPadding: 2,\n        halign: \"center\",\n        valign: \"middle\",\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0]\n      },\n      headStyles: {\n        fillColor: [41, 128, 185],\n        textColor: [255, 255, 255],\n        fontStyle: \"bold\"\n      },\n      columnStyles: {\n        Naam: {\n          cellWidth: 60,\n          halign: 'left'\n        }\n      },\n      didDrawCell: function (data) {\n        const getText = text => {\n          if (typeof text === \"string\") return text;\n          if (Array.isArray(text)) return text.join(\" \");\n          return \"\";\n        };\n        const val = getText(data.cell.text).trim().toLowerCase();\n        const kleuren = {\n          \"bereider\": [30, 58, 138],\n          \"bereider(s)\": [96, 165, 250],\n          \"bereider(l)\": [167, 139, 250],\n          \"prep\": [191, 219, 254],\n          \"prep(s)\": [219, 234, 254],\n          \"prep(l)\": [196, 181, 253],\n          \"schep\": [17, 24, 39],\n          \"schep(s)\": [107, 114, 128],\n          \"schep(l)\": [243, 244, 246]\n        };\n        if (kleuren[val]) {\n          data.cell.styles.fillColor = kleuren[val];\n          if ([\"bereider\", \"schep\", \"schep(s)\"].includes(val)) {\n            data.cell.styles.textColor = [255, 255, 255];\n          }\n        } else if (val === \"âœ“\" && data.column.dataKey !== \"Naam\") {\n          data.cell.styles.fillColor = [144, 238, 144]; // lichtgroen\n          data.cell.styles.textColor = [0, 0, 0];\n        }\n      }\n    });\n    const eindY = doc.lastAutoTable.finalY + 20;\n    doc.setFontSize(8);\n\n    // Samenvattingstabel\n    const startY = eindY;\n    autoTable(doc, {\n      startY,\n      head: [[\"Dag\"].concat(dagen.flatMap(d => shifts.map(s => `${d} shift ${s}`)))],\n      body: [[\"Loonkosten\"].concat(dagen.flatMap(d => shifts.map(s => {\n        let totaal = 0;\n        medewerkers.forEach(m => {\n          var _planning$m$naam3, _planning$m$naam3$d;\n          const entry = (_planning$m$naam3 = planning[m.naam]) === null || _planning$m$naam3 === void 0 ? void 0 : (_planning$m$naam3$d = _planning$m$naam3[d]) === null || _planning$m$naam3$d === void 0 ? void 0 : _planning$m$naam3$d[s];\n          if (entry) {\n            var _loonkostenPerUur$lee2;\n            const uren = entry.soort === \"standby\" ? 4 : 6;\n            const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n            const uurloon = (_loonkostenPerUur$lee2 = loonkostenPerUur[leeftijd]) !== null && _loonkostenPerUur$lee2 !== void 0 ? _loonkostenPerUur$lee2 : 15;\n            totaal += uren * uurloon;\n          }\n        });\n        return `â‚¬ ${totaal.toFixed(2)}`;\n      }))), [\"Bereiders\"].concat(dagen.flatMap(d => shifts.map(s => medewerkers.filter(m => {\n        var _planning$m$naam4, _planning$m$naam4$d, _planning$m$naam4$d$s;\n        return ((_planning$m$naam4 = planning[m.naam]) === null || _planning$m$naam4 === void 0 ? void 0 : (_planning$m$naam4$d = _planning$m$naam4[d]) === null || _planning$m$naam4$d === void 0 ? void 0 : (_planning$m$naam4$d$s = _planning$m$naam4$d[s]) === null || _planning$m$naam4$d$s === void 0 ? void 0 : _planning$m$naam4$d$s.functie) === \"ijsbereider\";\n      }).length))), [\"Voorbereiders\"].concat(dagen.flatMap(d => shifts.map(s => medewerkers.filter(m => {\n        var _planning$m$naam5, _planning$m$naam5$d, _planning$m$naam5$d$s;\n        return ((_planning$m$naam5 = planning[m.naam]) === null || _planning$m$naam5 === void 0 ? void 0 : (_planning$m$naam5$d = _planning$m$naam5[d]) === null || _planning$m$naam5$d === void 0 ? void 0 : (_planning$m$naam5$d$s = _planning$m$naam5$d[s]) === null || _planning$m$naam5$d$s === void 0 ? void 0 : _planning$m$naam5$d$s.functie) === \"ijsvoorbereider\";\n      }).length))), [\"Scheppers\"].concat(dagen.flatMap(d => shifts.map(s => medewerkers.filter(m => {\n        var _planning$m$naam6, _planning$m$naam6$d, _planning$m$naam6$d$s;\n        return ((_planning$m$naam6 = planning[m.naam]) === null || _planning$m$naam6 === void 0 ? void 0 : (_planning$m$naam6$d = _planning$m$naam6[d]) === null || _planning$m$naam6$d === void 0 ? void 0 : (_planning$m$naam6$d$s = _planning$m$naam6$d[s]) === null || _planning$m$naam6$d$s === void 0 ? void 0 : _planning$m$naam6$d$s.functie) === \"schepper\";\n      }).length)))],\n      styles: {\n        fontSize: 7,\n        cellPadding: 1,\n        halign: \"center\",\n        valign: \"middle\",\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0]\n      },\n      headStyles: {\n        fillColor: [100, 149, 237],\n        textColor: 255\n      },\n      columnStyles: {\n        0: {\n          fontStyle: 'bold',\n          halign: 'left'\n        }\n      }\n    });\n\n    // Totale loonkosten\n    const totaalLoonkosten = medewerkers.reduce((totaal, m) => {\n      var _loonkostenPerUur$m$l;\n      const uurloon = (_loonkostenPerUur$m$l = loonkostenPerUur[m.leeftijd]) !== null && _loonkostenPerUur$m$l !== void 0 ? _loonkostenPerUur$m$l : 15;\n      return totaal + dagen.reduce((dagTotaal, dag) => {\n        return dagTotaal + shifts.reduce((shiftTotaal, shift) => {\n          var _planning$m$naam7, _planning$m$naam7$dag;\n          const entry = (_planning$m$naam7 = planning[m.naam]) === null || _planning$m$naam7 === void 0 ? void 0 : (_planning$m$naam7$dag = _planning$m$naam7[dag]) === null || _planning$m$naam7$dag === void 0 ? void 0 : _planning$m$naam7$dag[shift];\n          if (!entry) return shiftTotaal;\n          const uren = entry.soort === 'standby' ? 4 : 6;\n          return shiftTotaal + uren * uurloon;\n        }, 0);\n      }, 0);\n    }, 0);\n    const laatsteY = (_doc$lastAutoTable$fi = (_doc$lastAutoTable = doc.lastAutoTable) === null || _doc$lastAutoTable === void 0 ? void 0 : _doc$lastAutoTable.finalY) !== null && _doc$lastAutoTable$fi !== void 0 ? _doc$lastAutoTable$fi : 150;\n    if (laatsteY + 20 > doc.internal.pageSize.getHeight()) {\n      doc.addPage();\n    }\n    doc.setFontSize(12);\n    doc.setTextColor(40);\n    doc.setFont(undefined, 'bold');\n    doc.text(`Totale loonkosten deze week: â‚¬${totaalLoonkosten.toFixed(2)}`, 14, laatsteY + 20);\n    doc.save(\"planning_export.pdf\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"text-xs border-collapse w-full bg-white shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"border px-2 py-1 w-60 text-left\",\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), dagen.map(dag => shifts.map(shift => /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"border px-2 py-1 text-center\",\n              children: [dagMap[dag], \" shift \", shift]\n            }, `${dag}-${shift}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 19\n            }, this)))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: ['Bereiders', 'Voorbereiders', 'Scheppers', 'Kosten'].map(type => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"border px-2 py-1 font-semibold\",\n              children: type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this), dagen.map(dag => shifts.map(shift => {\n              let value = 0;\n              if (type === 'Kosten') {\n                value = medewerkers.reduce((totaal, m) => {\n                  var _planning$m$naam8, _planning$m$naam8$dag, _loonkostenPerUur$lee3;\n                  const entry = (_planning$m$naam8 = planning[m.naam]) === null || _planning$m$naam8 === void 0 ? void 0 : (_planning$m$naam8$dag = _planning$m$naam8[dag]) === null || _planning$m$naam8$dag === void 0 ? void 0 : _planning$m$naam8$dag[shift];\n                  if (!entry) return totaal;\n                  const uren = entry.soort === 'standby' ? 4 : 6;\n                  const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n                  const uurloon = (_loonkostenPerUur$lee3 = loonkostenPerUur[leeftijd]) !== null && _loonkostenPerUur$lee3 !== void 0 ? _loonkostenPerUur$lee3 : 15;\n                  return totaal + uren * uurloon;\n                }, 0);\n              } else {\n                const functieMap = {\n                  'Bereiders': 'ijsbereider',\n                  'Voorbereiders': 'ijsvoorbereider',\n                  'Scheppers': 'schepper'\n                };\n                const functie = functieMap[type];\n                value = medewerkers.filter(m => {\n                  var _planning$m$naam9, _planning$m$naam9$dag, _planning$m$naam9$dag2;\n                  return ((_planning$m$naam9 = planning[m.naam]) === null || _planning$m$naam9 === void 0 ? void 0 : (_planning$m$naam9$dag = _planning$m$naam9[dag]) === null || _planning$m$naam9$dag === void 0 ? void 0 : (_planning$m$naam9$dag2 = _planning$m$naam9$dag[shift]) === null || _planning$m$naam9$dag2 === void 0 ? void 0 : _planning$m$naam9$dag2.functie) === functie;\n                }).length;\n              }\n              return /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border px-2 py-1 text-center\",\n                children: type === 'Kosten' ? `â‚¬ ${Math.round(value)}` : value\n              }, `${type}-${dag}-${shift}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 23\n              }, this);\n            }))]\n          }, type, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 items-center mb-4\",\n      children: [importeerBeschikbaarheidKnop(setLocalBeschikbaarheid, setMedewerkers), importeerLoonkostenKnop(setLoonkostenPerUur), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportToPDF,\n        className: \"bg-red-600 text-white px-4 py-2 rounded shadow\",\n        children: \"Exporteer naar PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this), medewerkers.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600\",\n      children: \"Nog geen medewerkers geladen. Importeer beschikbaarheid om te starten.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 9\n    }, this), medewerkers.length > 0 && /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table-fixed border w-full bg-white text-xs font-sans\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-4 py-2 text-left w-60\",\n            children: \"Naam\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), dagen.map(dag => shifts.map(shift => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-2 py-1 text-center\",\n            children: [dag, \" \", shift]\n          }, `${dag}-${shift}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 19\n          }, this)))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: medewerkers.map(m => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [((_m$maxShifts3, _m$leeftijd3) => {\n            const count = shiftCountPerMedewerker[m.naam] || 0;\n            const max = (_m$maxShifts3 = m.maxShifts) !== null && _m$maxShifts3 !== void 0 ? _m$maxShifts3 : \"?\";\n            const leeftijd = (_m$leeftijd3 = m.leeftijd) !== null && _m$leeftijd3 !== void 0 ? _m$leeftijd3 : \"?\";\n            const bgClass = count > max ? \"bg-red-200\" : count < max ? \"bg-yellow-200\" : \"\";\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              className: `border px-4 py-2 text-left whitespace-nowrap w-60 font-bold ${bgClass}`,\n              title: m.opmerking || \"\",\n              children: [m.naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \"), \" [\", leeftijd, \"] (\", count, \"/\", max, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 21\n            }, this);\n          })(), dagen.map(dag => shifts.map(shift => {\n            var _m$naam2, _planning$m$naam10, _planning$m$naam10$da, _beschikbaarheid$naam5, _beschikbaarheid$naam6;\n            const naamKey = (_m$naam2 = m.naam) === null || _m$naam2 === void 0 ? void 0 : _m$naam2.toLowerCase();\n            const entry = (_planning$m$naam10 = planning[m.naam]) === null || _planning$m$naam10 === void 0 ? void 0 : (_planning$m$naam10$da = _planning$m$naam10[dag]) === null || _planning$m$naam10$da === void 0 ? void 0 : _planning$m$naam10$da[shift];\n            const beschikbaar = beschikbaarheid === null || beschikbaarheid === void 0 ? void 0 : (_beschikbaarheid$naam5 = beschikbaarheid[naamKey]) === null || _beschikbaarheid$naam5 === void 0 ? void 0 : (_beschikbaarheid$naam6 = _beschikbaarheid$naam5[dagMap[dag]]) === null || _beschikbaarheid$naam6 === void 0 ? void 0 : _beschikbaarheid$naam6[shift];\n            let text = \"\";\n            let bgColor = \"#ffffff\";\n            if (entry) {\n              var _colorMapping$entry$f, _labelMap$entry$funct3;\n              const colorMapping = {\n                \"ijsbereider\": {\n                  vast: \"#1E3A8A\",\n                  standby: \"#2563EB\",\n                  laat: \"#93C5FD\"\n                },\n                \"ijsvoorbereider\": {\n                  vast: \"#065F46\",\n                  standby: \"#059669\",\n                  laat: \"#6EE7B7\"\n                },\n                \"schepper\": {\n                  vast: \"#334155\",\n                  standby: \"#64748B\",\n                  laat: \"#CBD5E1\"\n                }\n              };\n              bgColor = ((_colorMapping$entry$f = colorMapping[entry.functie]) === null || _colorMapping$entry$f === void 0 ? void 0 : _colorMapping$entry$f[entry.soort]) || \"#ffffff\";\n              const labelMap = {\n                \"schepper\": {\n                  vast: \"schep\",\n                  standby: \"schep(s)\",\n                  laat: \"schep(l)\"\n                },\n                \"ijsbereider\": {\n                  vast: \"bereider\",\n                  standby: \"bereider(s)\",\n                  laat: \"bereider(l)\"\n                },\n                \"ijsvoorbereider\": {\n                  vast: \"prep\",\n                  standby: \"prep(s)\",\n                  laat: \"prep(l)\"\n                }\n              };\n              text = ((_labelMap$entry$funct3 = labelMap[entry.functie]) === null || _labelMap$entry$funct3 === void 0 ? void 0 : _labelMap$entry$funct3[entry.soort]) || `${entry.functie} (${entry.soort})`;\n            } else if (beschikbaar) {\n              // Beschikbaarheid: geen tekst tonen, alleen de achtergrondkleur\n              text = \"\";\n              bgColor = \"#90EE90\"; // lichtgroen\n            }\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              title: `Shift ${shift} op ${dagMap[dag]}`,\n              className: \"border text-center cursor-pointer\",\n              onClick: () => {\n                var _planning$m$naam11, _planning$m$naam11$da;\n                const entry = (_planning$m$naam11 = planning[m.naam]) === null || _planning$m$naam11 === void 0 ? void 0 : (_planning$m$naam11$da = _planning$m$naam11[dag]) === null || _planning$m$naam11$da === void 0 ? void 0 : _planning$m$naam11$da[shift];\n                if (entry) {\n                  setPlanning(prev => {\n                    const nieuw = {\n                      ...prev\n                    };\n                    delete nieuw[m.naam][dag][shift];\n                    if (Object.keys(nieuw[m.naam][dag]).length === 0) delete nieuw[m.naam][dag];\n                    if (Object.keys(nieuw[m.naam]).length === 0) delete nieuw[m.naam];\n                    localStorage.setItem(\"planning\", JSON.stringify(nieuw));\n                    return nieuw;\n                  });\n                } else {\n                  setPopup({\n                    medewerker: m.naam,\n                    dag,\n                    shift\n                  });\n                }\n              },\n              style: {\n                backgroundColor: bgColor,\n                color: (entry === null || entry === void 0 ? void 0 : entry.functie) === \"ijsbereider\" && (entry === null || entry === void 0 ? void 0 : entry.soort) === \"vast\" ? \"white\" : (entry === null || entry === void 0 ? void 0 : entry.functie) === \"ijsbereider\" && (entry === null || entry === void 0 ? void 0 : entry.soort) === \"standby\" ? \"yellow\" : (entry === null || entry === void 0 ? void 0 : entry.functie) === \"schepper\" && (entry === null || entry === void 0 ? void 0 : entry.soort) === \"vast\" ? \"white\" : (entry === null || entry === void 0 ? void 0 : entry.functie) === \"schepper\" && (entry === null || entry === void 0 ? void 0 : entry.soort) === \"standby\" ? \"yellow\" : \"initial\",\n                fontWeight: 'bold'\n              },\n              children: text\n            }, `${m.naam}-${dag}-${shift}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 23\n            }, this);\n          }))]\n        }, m.naam, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 9\n    }, this), popup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow-md w-[400px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-bold mb-4 text-center\",\n          children: [popup.medewerker, \" - \", popup.dag, \" Shift \", popup.shift]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-2\",\n          children: [\"ijsbereider\", \"ijsvoorbereider\", \"schepper\"].map(functie => [\"vast\", \"standby\", \"laat\"].map(soort => {\n            let kleur = \"\";\n            let label = \"\";\n            if (functie === \"ijsbereider\") {\n              if (soort === \"vast\") {\n                kleur = \"bg-blue-900 text-white\";\n                label = \"bereider\";\n              } else if (soort === \"standby\") {\n                kleur = \"bg-blue-600 text-white\";\n                label = \"â±ï¸ bereider\";\n              } else if (soort === \"laat\") {\n                kleur = \"bg-blue-300 text-black\";\n                label = \"ðŸŒ™ bereider\";\n              }\n            } else if (functie === \"ijsvoorbereider\") {\n              if (soort === \"vast\") {\n                kleur = \"bg-green-900 text-white\";\n                label = \"prep\";\n              } else if (soort === \"standby\") {\n                kleur = \"bg-green-600 text-white\";\n                label = \"â±ï¸ prep\";\n              } else if (soort === \"laat\") {\n                kleur = \"bg-green-300 text-black\";\n                label = \"ðŸŒ™ prep\";\n              }\n            } else if (functie === \"schepper\") {\n              if (soort === \"vast\") {\n                kleur = \"bg-slate-700 text-white\";\n                label = \"schep\";\n              } else if (soort === \"standby\") {\n                kleur = \"bg-slate-500 text-white\";\n                label = \"â±ï¸ schep\";\n              } else if (soort === \"laat\") {\n                kleur = \"bg-slate-300 text-black\";\n                label = \"ðŸŒ™ schep\";\n              }\n            }\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `${kleur} px-3 py-2 rounded font-medium text-sm`,\n              onClick: () => updatePlanning(functie, soort),\n              children: label\n            }, `${functie}-${soort}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 21\n            }, this);\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPopup(null),\n            className: \"text-gray-600 text-sm underline\",\n            children: \"Annuleren\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 305,\n    columnNumber: 5\n  }, this);\n}\n_s(PlannerBoard, \"f/Uw1etCHYHcHYovhHuQbOOP62c=\");\n_c = PlannerBoard;\nvar _c;\n$RefreshReg$(_c, \"PlannerBoard\");","map":{"version":3,"names":["React","useState","useEffect","jsPDF","autoTable","getShiftCountPerMedewerker","importeerBeschikbaarheidKnop","importeerLoonkostenKnop","dagMap","jsxDEV","_jsxDEV","dagen","shifts","PlannerBoard","beschikbaarheid","beschikbaarheidProp","planning","setPlanning","onTotalLoonkostenChange","_s","medewerkers","setMedewerkers","saved","localStorage","getItem","parsed","JSON","parse","Array","isArray","filter","m","naam","setLocalBeschikbaarheid","Object","keys","length","setItem","stringify","popup","setPopup","shiftCountPerMedewerker","loonkostenPerUur","setLoonkostenPerUur","gestructureerdeUpdate","prev","functie","soort","_prev$popup$medewerke","medewerker","dag","shift","updatePlanning","nieuwePlanning","totaal","forEach","_planning$m$naam","_planning$m$naam$dag","entry","_loonkostenPerUur$lee","uren","leeftijd","uurloon","buildPdfBody","body","_m$maxShifts","_m$leeftijd","count","max","maxShifts","row","Naam","split","map","part","i","charAt","toUpperCase","slice","join","_planning$naam","_planning$naam$dag","_beschikbaarheid$naam","_beschikbaarheid$naam2","key","naamKey","toLowerCase","beschikbaar","_labelMap$entry$funct","labelMap","vast","standby","laat","push","exportToPDF","_doc$lastAutoTable$fi","_doc$lastAutoTable","doc","orientation","format","pageWidth","internal","pageSize","getWidth","margin","tableColumn","flatMap","_m$maxShifts2","_m$leeftijd2","_planning$m$naam2","_planning$m$naam2$dag","_m$naam","_beschikbaarheid$naam3","_beschikbaarheid$naam4","_labelMap$entry$funct2","label","startY","tableWidth","head","styles","fontSize","cellPadding","halign","valign","lineWidth","lineColor","headStyles","fillColor","textColor","fontStyle","columnStyles","cellWidth","didDrawCell","data","getText","text","val","cell","trim","kleuren","includes","column","dataKey","eindY","lastAutoTable","finalY","setFontSize","concat","d","s","_planning$m$naam3","_planning$m$naam3$d","_loonkostenPerUur$lee2","toFixed","_planning$m$naam4","_planning$m$naam4$d","_planning$m$naam4$d$s","_planning$m$naam5","_planning$m$naam5$d","_planning$m$naam5$d$s","_planning$m$naam6","_planning$m$naam6$d","_planning$m$naam6$d$s","totaalLoonkosten","reduce","_loonkostenPerUur$m$l","dagTotaal","shiftTotaal","_planning$m$naam7","_planning$m$naam7$dag","laatsteY","getHeight","addPage","setTextColor","setFont","undefined","save","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","_planning$m$naam8","_planning$m$naam8$dag","_loonkostenPerUur$lee3","functieMap","_planning$m$naam9","_planning$m$naam9$dag","_planning$m$naam9$dag2","Math","round","onClick","_m$maxShifts3","_m$leeftijd3","bgClass","title","opmerking","_m$naam2","_planning$m$naam10","_planning$m$naam10$da","_beschikbaarheid$naam5","_beschikbaarheid$naam6","bgColor","_colorMapping$entry$f","_labelMap$entry$funct3","colorMapping","_planning$m$naam11","_planning$m$naam11$da","nieuw","style","backgroundColor","color","fontWeight","kleur","_c","$RefreshReg$"],"sources":["C:/Users/van den Akker/planner/planner-app/src/PlannerBoard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport {\n  getShiftCountPerMedewerker,\n  importeerBeschikbaarheidKnop,\n  importeerLoonkostenKnop,\n} from \"./utils/plannerHelpers\";\nimport { dagMap } from \"./utils/dagen\";\n\nconst dagen = [\"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\", \"zo\"];\nconst shifts = [1, 2];\n\nexport default function PlannerBoard({ beschikbaarheid: beschikbaarheidProp, planning, setPlanning, onTotalLoonkostenChange }) {\n  const [medewerkers, setMedewerkers] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"medewerkers\");\n      const parsed = saved ? JSON.parse(saved) : [];\n      return Array.isArray(parsed) ? parsed.filter((m) => m && typeof m === \"object\" && m.naam) : [];\n    } catch {\n      return [];\n    }\n  });\n\n  const [beschikbaarheid, setLocalBeschikbaarheid] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"beschikbaarheid\");\n      return saved ? JSON.parse(saved) : {};\n    } catch {\n      return {};\n    }\n  });\n\n  useEffect(() => {\n    if (beschikbaarheidProp && Object.keys(beschikbaarheidProp).length > 0) {\n      setLocalBeschikbaarheid(beschikbaarheidProp);\n      localStorage.setItem(\"beschikbaarheid\", JSON.stringify(beschikbaarheidProp));\n    }\n  }, [beschikbaarheidProp]);\n\n  const [popup, setPopup] = useState(null);\n  const shiftCountPerMedewerker = getShiftCountPerMedewerker(planning);\n\n  const [loonkostenPerUur, setLoonkostenPerUur] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\"loonkosten\");\n      return saved ? JSON.parse(saved) : {};\n    } catch {\n      return {};\n    }\n  });\n  \n  const gestructureerdeUpdate = (prev, popup, functie, soort) => {\n    return {\n      ...prev,\n      [popup.medewerker]: {\n        ...prev[popup.medewerker],\n        [popup.dag]: {\n          ...prev[popup.medewerker]?.[popup.dag],\n          [popup.shift]: { functie, soort },\n        },\n      },\n    };\n  };\n\n  const updatePlanning = (functie, soort) => {\n    if (popup) {\n      setPlanning((prev) => {\n        const nieuwePlanning = gestructureerdeUpdate(prev, popup, functie, soort);\n        localStorage.setItem(\"planning\", JSON.stringify(nieuwePlanning));\n        return nieuwePlanning;\n      });\n      setPopup(null);\n    }\n  };\n\n  useEffect(() => {\n    let totaal = 0;\n    medewerkers.forEach((m) => {\n      dagen.forEach((dag) => {\n        shifts.forEach((shift) => {\n          const entry = planning[m.naam]?.[dag]?.[shift];\n          if (entry) {\n            const uren = entry.soort === \"standby\" ? 4 : 6;\n            const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n            const uurloon = loonkostenPerUur[leeftijd] ?? 15;\n            totaal += uren * uurloon;\n          }\n        });\n      });\n    });\n\n    if (typeof onTotalLoonkostenChange === 'function') {\n      onTotalLoonkostenChange(totaal);\n    }\n  }, [planning, medewerkers]);\n  const buildPdfBody = (medewerkers, planning, beschikbaarheid, shiftCountPerMedewerker) => {\n    const body = [];\n  \n    medewerkers.forEach((m) => {\n      const naam = m.naam;\n      const count = shiftCountPerMedewerker[naam] || 0;\n      const max = m.maxShifts ?? \"?\";\n      const leeftijd = m.leeftijd ?? \"?\";\n  \n      const row = {\n        Naam: `${naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \")} [${leeftijd}] (${count}/${max})`\n      };\n  \n      dagen.forEach(dag => {\n        shifts.forEach(shift => {\n          const key = `${dag} ${shift}`;\n          const entry = planning[naam]?.[dag]?.[shift];\n          const naamKey = naam?.toLowerCase();\n          const beschikbaar = beschikbaarheid?.[naamKey]?.[dagMap[dag]]?.[shift];\n  \n          if (entry) {\n            const labelMap = {\n              \"schepper\": { vast: \"schep\", standby: \"schep(s)\", laat: \"schep(l)\" },\n              \"ijsbereider\": { vast: \"bereider\", standby: \"bereider(s)\", laat: \"bereider(l)\" },\n              \"ijsvoorbereider\": { vast: \"prep\", standby: \"prep(s)\", laat: \"prep(l)\" }\n            };\n            row[key] = labelMap[entry.functie]?.[entry.soort] || `${entry.functie} (${entry.soort})`;\n          } else if (beschikbaar) {\n            row[key] = \"âœ“\";\n          } else {\n            row[key] = \"\"; // cel blijft leeg als geen entry of beschikbaarheid\n          }\n        });\n      });\n  \n      body.push(row);\n    });\n  \n    return body;\n  };\n  \n  const exportToPDF = () => {\n    const doc = new jsPDF({ orientation: \"landscape\", format: \"a4\" });\n    const pageWidth = doc.internal.pageSize.getWidth();\n    const margin = 20;\n  \n    const tableColumn = [\"Naam\", ...dagen.flatMap(dag => shifts.map(shift => `${dag} ${shift}`))];\n  \n    const body = medewerkers.map((m) => {\n      const count = shiftCountPerMedewerker[m.naam] || 0;\n      const max = m.maxShifts ?? \"?\";\n      const leeftijd = m.leeftijd ?? \"?\";\n      const row = {\n        Naam: `${m.naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \")} [${leeftijd}] (${count}/${max})`\n      };\n  \n      dagen.forEach(dag => {\n        shifts.forEach((shift) => {\n          const key = `${dag} ${shift}`;\n          const entry = planning[m.naam]?.[dag]?.[shift];\n          const naamKey = m.naam?.toLowerCase();\n          const beschikbaar = beschikbaarheid?.[naamKey]?.[dagMap[dag]]?.[shift];\n  \n          if (entry) {\n            const labelMap = {\n              \"schepper\": { vast: \"schep\", standby: \"schep(s)\", laat: \"schep(l)\" },\n              \"ijsbereider\": { vast: \"bereider\", standby: \"bereider(s)\", laat: \"bereider(l)\" },\n              \"ijsvoorbereider\": { vast: \"prep\", standby: \"prep(s)\", laat: \"prep(l)\" }\n            };\n            const label = labelMap[entry.functie]?.[entry.soort];\n            row[key] = label || `${entry.functie} (${entry.soort})`;\n          } else if (beschikbaar) {\n            row[key] = \"âœ“\";\n          } else {\n            row[key] = \"\";\n          }\n        });\n      });\n  \n      return row;\n    });\n  \n    autoTable(doc, {\n      startY: 20,\n      tableWidth: pageWidth - margin,\n      head: [tableColumn], // âœ… Dit zorgt dat didDrawCell goed werkt\n      body: body,\n      styles: {\n        fontSize: 7,\n        cellPadding: 2,\n        halign: \"center\",\n        valign: \"middle\",\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0],\n      },\n      headStyles: {\n        fillColor: [41, 128, 185],\n        textColor: [255, 255, 255],\n        fontStyle: \"bold\"\n      },\n      columnStyles: {\n        Naam: { cellWidth: 60, halign: 'left' }\n      },\n      didDrawCell: function (data) {\n        const getText = (text) => {\n          if (typeof text === \"string\") return text;\n          if (Array.isArray(text)) return text.join(\" \");\n          return \"\";\n        };\n    \n        const val = getText(data.cell.text).trim().toLowerCase();\n    \n        const kleuren = {\n          \"bereider\": [30, 58, 138],\n          \"bereider(s)\": [96, 165, 250],\n          \"bereider(l)\": [167, 139, 250],\n          \"prep\": [191, 219, 254],\n          \"prep(s)\": [219, 234, 254],\n          \"prep(l)\": [196, 181, 253],\n          \"schep\": [17, 24, 39],\n          \"schep(s)\": [107, 114, 128],\n          \"schep(l)\": [243, 244, 246],\n        };\n    \n        if (kleuren[val]) {\n          data.cell.styles.fillColor = kleuren[val];\n          if ([\"bereider\", \"schep\", \"schep(s)\"].includes(val)) {\n            data.cell.styles.textColor = [255, 255, 255];\n          }\n        } else if (val === \"âœ“\" && data.column.dataKey !== \"Naam\") {\n          data.cell.styles.fillColor = [144, 238, 144]; // lichtgroen\n          data.cell.styles.textColor = [0, 0, 0];\n        }\n      }\n    });\n  \n    const eindY = doc.lastAutoTable.finalY + 20;\n    doc.setFontSize(8);\n  \n    // Samenvattingstabel\n    const startY = eindY;\n    autoTable(doc, {\n      startY,\n      head: [[\"Dag\"].concat(dagen.flatMap(d => shifts.map(s => `${d} shift ${s}`)))],\n      body: [\n        [\"Loonkosten\"].concat(dagen.flatMap(d => shifts.map(s => {\n          let totaal = 0;\n          medewerkers.forEach((m) => {\n            const entry = planning[m.naam]?.[d]?.[s];\n            if (entry) {\n              const uren = entry.soort === \"standby\" ? 4 : 6;\n              const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n              const uurloon = loonkostenPerUur[leeftijd] ?? 15;\n              totaal += uren * uurloon;\n            }\n          });\n          return `â‚¬ ${totaal.toFixed(2)}`;\n        }))),\n        [\"Bereiders\"].concat(dagen.flatMap(d => shifts.map(s =>\n          medewerkers.filter(m => planning[m.naam]?.[d]?.[s]?.functie === \"ijsbereider\").length\n        ))),\n        [\"Voorbereiders\"].concat(dagen.flatMap(d => shifts.map(s =>\n          medewerkers.filter(m => planning[m.naam]?.[d]?.[s]?.functie === \"ijsvoorbereider\").length\n        ))),\n        [\"Scheppers\"].concat(dagen.flatMap(d => shifts.map(s =>\n          medewerkers.filter(m => planning[m.naam]?.[d]?.[s]?.functie === \"schepper\").length\n        )))\n      ],\n      styles: {\n        fontSize: 7,\n        cellPadding: 1,\n        halign: \"center\",\n        valign: \"middle\",\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0],\n      },\n      headStyles: { fillColor: [100, 149, 237], textColor: 255 },\n      columnStyles: { 0: { fontStyle: 'bold', halign: 'left' } }\n    });\n  \n    // Totale loonkosten\n    const totaalLoonkosten = medewerkers.reduce((totaal, m) => {\n      const uurloon = loonkostenPerUur[m.leeftijd] ?? 15;\n      return totaal + dagen.reduce((dagTotaal, dag) => {\n        return dagTotaal + shifts.reduce((shiftTotaal, shift) => {\n          const entry = planning[m.naam]?.[dag]?.[shift];\n          if (!entry) return shiftTotaal;\n          const uren = entry.soort === 'standby' ? 4 : 6;\n          return shiftTotaal + uren * uurloon;\n        }, 0);\n      }, 0);\n    }, 0);\n  \n    const laatsteY = doc.lastAutoTable?.finalY ?? 150;\n    if (laatsteY + 20 > doc.internal.pageSize.getHeight()) {\n      doc.addPage();\n    }\n  \n    doc.setFontSize(12);\n    doc.setTextColor(40);\n    doc.setFont(undefined, 'bold');\n    doc.text(`Totale loonkosten deze week: â‚¬${totaalLoonkosten.toFixed(2)}`, 14, laatsteY + 20);\n  \n    doc.save(\"planning_export.pdf\");\n  };\n  \n\n  return (\n    <div className=\"p-4 bg-gray-100\">\n      <div className=\"overflow-x-auto mb-4\">\n        <table className=\"text-xs border-collapse w-full bg-white shadow\">\n          <thead>\n            <tr>\n              <th className=\"border px-2 py-1 w-60 text-left\">Type</th>\n              {dagen.map((dag) => (\n                shifts.map((shift) => (\n                  <th key={`${dag}-${shift}`} className=\"border px-2 py-1 text-center\">\n                    {dagMap[dag]} shift {shift}\n                  </th>\n                ))\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {['Bereiders', 'Voorbereiders', 'Scheppers', 'Kosten'].map((type) => (\n              <tr key={type}>\n                <td className=\"border px-2 py-1 font-semibold\">{type}</td>\n                {dagen.map((dag) => (\n                  shifts.map((shift) => {\n                    let value = 0;\n                    if (type === 'Kosten') {\n                      value = medewerkers.reduce((totaal, m) => {\n                        const entry = planning[m.naam]?.[dag]?.[shift];\n                        if (!entry) return totaal;\n                        const uren = entry.soort === 'standby' ? 4 : 6;\n                        const leeftijd = typeof m.leeftijd === 'number' ? m.leeftijd : 18;\n                        const uurloon = loonkostenPerUur[leeftijd] ?? 15;\n                        return totaal + uren * uurloon;\n                      }, 0);\n                    } else {\n                      const functieMap = {\n                        'Bereiders': 'ijsbereider',\n                        'Voorbereiders': 'ijsvoorbereider',\n                        'Scheppers': 'schepper'\n                      };\n                      const functie = functieMap[type];\n                      value = medewerkers.filter(m => planning[m.naam]?.[dag]?.[shift]?.functie === functie).length;\n                    }\n                    return (\n                      <td key={`${type}-${dag}-${shift}`} className=\"border px-2 py-1 text-center\">\n                        {type === 'Kosten' ? `â‚¬ ${Math.round(value)}` : value}\n                      </td>\n                    );\n                  })\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      <div className=\"flex gap-2 items-center mb-4\">\n        {importeerBeschikbaarheidKnop(setLocalBeschikbaarheid, setMedewerkers)}\n        {importeerLoonkostenKnop(setLoonkostenPerUur)}\n        <button onClick={exportToPDF} className=\"bg-red-600 text-white px-4 py-2 rounded shadow\">\n          Exporteer naar PDF\n        </button>\n      </div>\n      {medewerkers.length === 0 && (\n        <p className=\"text-gray-600\">Nog geen medewerkers geladen. Importeer beschikbaarheid om te starten.</p>\n      )}\n      {medewerkers.length > 0 && (\n        <table className=\"table-fixed border w-full bg-white text-xs font-sans\">\n          <thead>\n            <tr>\n              <th className=\"border px-4 py-2 text-left w-60\">Naam</th>\n              {dagen.map((dag) =>\n                shifts.map((shift) => (\n                  <th key={`${dag}-${shift}`} className=\"border px-2 py-1 text-center\">\n                    {dag} {shift}\n                  </th>\n                ))\n              )}\n            </tr>\n          </thead>\n          <tbody>\n            {medewerkers.map((m) => (\n              <tr key={m.naam}>\n                {(() => {\n                  const count = shiftCountPerMedewerker[m.naam] || 0;\n                  const max = m.maxShifts ?? \"?\";\n                  const leeftijd = m.leeftijd ?? \"?\";\n                  const bgClass =\n                    count > max ? \"bg-red-200\" :\n                    count < max ? \"bg-yellow-200\" :\n                    \"\";\n                  return (\n                    <td\n                      className={`border px-4 py-2 text-left whitespace-nowrap w-60 font-bold ${bgClass}`}\n                      title={m.opmerking || \"\"}\n                    >\n                      {m.naam.split(\" \").map((part, i) => i === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1)).join(\" \")} [{leeftijd}] ({count}/{max})\n                    </td>\n                  );\n                })()}\n                {dagen.map((dag) =>\n                  shifts.map((shift) => {\n                    const naamKey = m.naam?.toLowerCase();\n                    const entry = planning[m.naam]?.[dag]?.[shift];\n                    const beschikbaar = beschikbaarheid?.[naamKey]?.[dagMap[dag]]?.[shift];\n                    let text = \"\";\n                    let bgColor = \"#ffffff\";\n                    if (entry) {\n                      const colorMapping = {\n                        \"ijsbereider\": { vast: \"#1E3A8A\", standby: \"#2563EB\", laat: \"#93C5FD\" },\n                        \"ijsvoorbereider\": { vast: \"#065F46\", standby: \"#059669\", laat: \"#6EE7B7\" },\n                        \"schepper\": { vast: \"#334155\", standby: \"#64748B\", laat: \"#CBD5E1\" },\n                      };\n                      bgColor = colorMapping[entry.functie]?.[entry.soort] || \"#ffffff\";\n                      const labelMap = {\n                        \"schepper\": { vast: \"schep\", standby: \"schep(s)\", laat: \"schep(l)\" },\n                        \"ijsbereider\": { vast: \"bereider\", standby: \"bereider(s)\", laat: \"bereider(l)\" },\n                        \"ijsvoorbereider\": { vast: \"prep\", standby: \"prep(s)\", laat: \"prep(l)\" }\n                      };\n                      text = labelMap[entry.functie]?.[entry.soort] || `${entry.functie} (${entry.soort})`;\n                    } else if (beschikbaar) {\n                      // Beschikbaarheid: geen tekst tonen, alleen de achtergrondkleur\n                      text = \"\";\n                      bgColor = \"#90EE90\"; // lichtgroen\n                    }\n                    return (\n                      <td\n                        key={`${m.naam}-${dag}-${shift}`}\n                        title={`Shift ${shift} op ${dagMap[dag]}`}\n                        className=\"border text-center cursor-pointer\"\n                        onClick={() => {\n                          const entry = planning[m.naam]?.[dag]?.[shift];\n                          if (entry) {\n                            setPlanning((prev) => {\n                              const nieuw = { ...prev };\n                              delete nieuw[m.naam][dag][shift];\n                              if (Object.keys(nieuw[m.naam][dag]).length === 0) delete nieuw[m.naam][dag];\n                              if (Object.keys(nieuw[m.naam]).length === 0) delete nieuw[m.naam];\n                              localStorage.setItem(\"planning\", JSON.stringify(nieuw));\n                              return nieuw;\n                            });\n                          } else {\n                            setPopup({ medewerker: m.naam, dag, shift });\n                          }\n                        }}\n                        style={{\n                          backgroundColor: bgColor,\n                          color: (entry?.functie === \"ijsbereider\" && entry?.soort === \"vast\") ? \"white\" :\n                                 (entry?.functie === \"ijsbereider\" && entry?.soort === \"standby\") ? \"yellow\" :\n                                 (entry?.functie === \"schepper\" && entry?.soort === \"vast\") ? \"white\" :\n                                 (entry?.functie === \"schepper\" && entry?.soort === \"standby\") ? \"yellow\" :\n                                 \"initial\",\n                          fontWeight: 'bold'\n                        }}\n                      >\n                        {text}\n                      </td>\n                    );\n                  })\n                )}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n      {popup && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-4 rounded shadow-md w-[400px]\">\n            <h2 className=\"font-bold mb-4 text-center\">\n              {popup.medewerker} - {popup.dag} Shift {popup.shift}\n            </h2>\n            <div className=\"grid grid-cols-3 gap-2\">\n              {[\"ijsbereider\", \"ijsvoorbereider\", \"schepper\"].map((functie) =>\n                [\"vast\", \"standby\", \"laat\"].map((soort) => {\n                  let kleur = \"\";\n                  let label = \"\";\n                  if (functie === \"ijsbereider\") {\n                    if (soort === \"vast\") { kleur = \"bg-blue-900 text-white\"; label = \"bereider\"; }\n                    else if (soort === \"standby\") { kleur = \"bg-blue-600 text-white\"; label = \"â±ï¸ bereider\"; }\n                    else if (soort === \"laat\") { kleur = \"bg-blue-300 text-black\"; label = \"ðŸŒ™ bereider\"; }\n                  } else if (functie === \"ijsvoorbereider\") {\n                    if (soort === \"vast\") { kleur = \"bg-green-900 text-white\"; label = \"prep\"; }\n                    else if (soort === \"standby\") { kleur = \"bg-green-600 text-white\"; label = \"â±ï¸ prep\"; }\n                    else if (soort === \"laat\") { kleur = \"bg-green-300 text-black\"; label = \"ðŸŒ™ prep\"; }\n                  } else if (functie === \"schepper\") {\n                    if (soort === \"vast\") { kleur = \"bg-slate-700 text-white\"; label = \"schep\"; }\n                    else if (soort === \"standby\") { kleur = \"bg-slate-500 text-white\"; label = \"â±ï¸ schep\"; }\n                    else if (soort === \"laat\") { kleur = \"bg-slate-300 text-black\"; label = \"ðŸŒ™ schep\"; }\n                  }\n                  return (\n                    <button\n                      key={`${functie}-${soort}`}\n                      className={`${kleur} px-3 py-2 rounded font-medium text-sm`}\n                      onClick={() => updatePlanning(functie, soort)}\n                    >\n                      {label}\n                    </button>\n                  );\n                })\n              )}\n            </div>\n            <div className=\"mt-4 text-center\">\n              <button onClick={() => setPopup(null)} className=\"text-gray-600 text-sm underline\">\n                Annuleren\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}